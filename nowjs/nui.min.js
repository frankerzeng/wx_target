define(function(b){var a=b("now");!function(f){f.fn.dispose=function(){return this.each(function(){f("[_nui_dispose]",f(this)).each(function(){var k=f(this),l=k.attr("_nui_dispose"),j=k.data(l);if(j&&k[j]){k[j]("dispose")}})})};f.fn.sltFill=function(m,l,k,j){l=l===undefined?"":l;return this.each(function(){var p="",o="",n=f(this);if(l===undefined){l=""}if(k){p='<option value="">'+k+"</option>"}var q=function(r){f.each(r,function(s,t){if(f.inArray(s,j)===-1){o=(s===l)?' selected="selected"':"";p+='<option value="'+s+'"'+o+">"+t+"</option>"}});n.html(p)};if(m.cmd!==undefined){a.cmd(m.cmd,m.param,function(r){q(r.rows);if(m.okfun!==undefined){m.okfun(r)}})}else{q(m)}})};f.fn.tpl=function(l,j,k,m){m=m?true:false;return this.each(function(){var n=f(this);if(f.isFunction(j)){k=j;j={}}var o=function(q){a.tpl(l,q,function(r){n.html(r);a.removeFun();if(f.isFunction(k)){k(q)}},m)};if(j._c){var p=j._c;delete j._c;a.cmd(p,j,function(q){o(f.extend(j,q))})}else{o(j)}})};f.dialog=function(o,n,j,m){var l=f("#_nui_dialog"),p="",k="";if(m){f("button.close",l).hide()}else{f("button.close",l).show()}f("#_nui_dialog").modal({backdrop:"static"}).modal("show");f("h3",l).html(o);f(".modal-body",l).html(n);j=typeof j==="undefined"?[]:j;f.each(j,function(q,r){k="";if(r.primary){k="btn-primary"}p+='<button class="btn '+k+'" name="'+r.text+'">'+r.text+"</button>"});f(".modal-footer",l).html(p);f.each(j,function(q,r){f(".modal-footer",l).find("button[name="+r.text+"]").on("click",function(){if(!r.nohide){l.modal("hide")}if(typeof r.okfun==="function"){r.okfun()}})})};f.confirm=function(o,k,n,j,m,l){n=n||"请确定";j=j||"确定";m=m||null;f.dialog(n,o,[{text:j,primary:true,okfun:k},{text:"取消",primary:false,okfun:m}],l)};var d=-1;var h=-1;f.alertMsg=function(q,l,s){var k=f("#_nui_alertmsg");if(k.is(":visible")){if(h>-1){window.clearTimeout(h)}k.hide();f("#_nui_mask").hide()}if(typeof(l)==="undefined"){l=""}f("h4",k).html(q);f("span",k).html(l);f("#_nui_mask").show();var m=f(document),n=f(window),p=m.scrollTop(),r=m.scrollLeft(),j=n.height(),o=n.width();k.css({top:p+j/2,left:r+o/2,position:"absolute"}).show();if(!s){h=setTimeout(function(){f("#_nui_alertmsg .close").click()},3000)}};f.actMsg=function(l,k){var j=f("#_nui_actmsg");if(d>-1){window.clearTimeout(d);j.hide();f("#_nui_mask").hide()}f("h4",j).html(l);f("span",j).html(k);j.show();d=window.setTimeout(function(){j.fadeOut(500);d=-1},3000)};var i='<div id="_nui_mask" class="nui-mask hide"></div>';f("body").append(i);var e='<div id="_nui_alertmsg" class="nui-alertmsg alert alert-block hide"><button type="button" class="close">&times;</button><h4></h4><span></span></div>';f("body").append(e);var c='<div id="_nui_actmsg" class="nui-actmsg alert alert-block alert-success hide"><button type="button" class="close">&times;</button><h4></h4><span></span></div>';f("body").append(c);var g='<div class="modal hide fade" id="_nui_dialog"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h3></h3></div>';g+='<div class="modal-body"></div>';g+='<div class="modal-footer"></div></div>';f("body").append(g);f(".close",f("#_nui_alertmsg")).on("click",function(j){if(h>0){window.clearTimeout(h)}f("#_nui_alertmsg").fadeOut(500);f("#_nui_mask").hide()});f(".close",f("#_nui_actmsg")).on("click",function(j){if(d>0){window.clearTimeout(d)}f("#_nui_actmsg").fadeOut(500)});f(".close",f("#_nui_dialog")).on("click",function(j){f("#_nui_dialog").modal("hide")})}(jQuery);!function(d){var c=null;d._chatReady=function(){c._initOk()};d._chatLoginOk=function(){c._loginOk()};d._chatClose=function(){c._chatClose()};d._chatErr=function(f,g){c._chatErr(f,g)};d._chatData=function(f){c._chatData(f)};var e=function(g,f){if(c){alert("同时只能存在一个聊天实例")}this.options=f;this.$element=d(g);this.$element.addClass(f.css);this.swf=null;c=this;this.intterval=0;this._init()};e.prototype={constructor:e,_init:function(){var f=this.$element;f.flash({width:1,height:1,src:a.cfg.nowjs+"chat.swf"})},_initOk:function(){var f=this,g=this.$element,h=this.options;g.flash("getSwf",function(i){f.swf=i;i.initChat(h.host,h.port,h.uid,h.name,h.rand,h.code,h.group)})},_loginOk:function(){var f=d.Event("chatLoginOk");this.$element.trigger(f);this.intterval=setInterval(function(){this.swf.sendPing()},2000)},_chatErr:function(f,h){var g=d.Event("chatErr");this.$element.trigger(g,f,h)},_chatClose:function(){var f=d.Event("chatClose");this.$element.trigger(f)},_chatData:function(f){var g=d.Event("chatData");this.$element.trigger(g,f)},sendMsg:function(f){this.swf.sendMsg(f.to,f.msg)},dispose:function(){this.$element.html("");clearInterval(this.intterval);if(window.nowchat!==undefined){window.nowchat=null}}};d.fn.chat=function(h,g,f){return this.each(function(){var l=d(this),k=l.data("chat"),j=(typeof h==="string");if(!k){var i=d.extend({},d.fn.chat.defaults,typeof h==="object"&&h);l.data("chat",(k=new e(this,i)))}else{if(!j){k.options=d.extend({},k.options,typeof h==="object"&&h)}}if(j){k[h](g)}})};d.fn.chat.defaults={host:"127.0.0.1",port:2008,uid:"",name:"",group:"",rand:"",code:"",css:"nui-chat"}}(jQuery);!function(d){var c=function(g,f){this.options=f;this.$element=d(g);this.$element.addClass(f.css);var e=this;d(f.submit).on("click",function(){d(this).attr("disabled","disabled");e.post()});d(f.submit).on("keydown",function(h){if(h.keyCode===13){return false}})};c.prototype={constructor:c,val:function(f){f=d.extend({},this.options.para,f);var h=true,i=this.$element,l={};i.find(":input").each(function(){var v=d(this);var t=d(this),u=t.attr("check");if(t.data("editor")){t.editor("getUbb")}var n=t.val();if(n==null){n=""}var m=n.replace(/(\s*$)/g,"");if(m!==""&&t.attr("encrypt")&&t.attr("encrypt")==="true"){l[t.attr("name")]=1}if(t.hasClass("_drop-value")){t=t.parent().parent().parent().parent()}else{if(t.hasClass("_muti-drop-value")){t=t.parent().parent().parent()}}if(u){var o=u.split(" "),p=a.val(o,m),q=t.parent();if(d("span.help-inline",q).length===0){if(t.attr("br")===""){q.append('<br/><span class="help-inline"></span>')}else{q.append('<span class="help-inline"></span>')}}var s=d("span.help-inline",q);if(p===""){v.removeAttr("err");if(q.parents(".control-group").find("[err]").length===0){q.parents(".control-group").removeClass("error").addClass("success")}if(q.parents(".form_inline1st").find("[err]").length===0){q.parents(".form_inline1st").removeClass("error").addClass("success")}if(f.ok_flag){s.html('<i class="icon-ok"></i>').show()}if(!f.ok_flag){s.html("")}}else{q.parents(".control-group").removeClass("success").addClass("error");q.parents(".form_inline1st").removeClass("success").addClass("error");v.attr("err","");var r=t.attr("title");r=r||p;s.html(p).show();h=false}}});i.find("[err]").eq(0).focus();if(h||window.uitest){var j=i.find(":input").serializeArray();var e={},k="";var g=b("md5");d.each(j,function(){k=this.value.replace(/(\s*$)/g,"");if(l[this.name]!==undefined){k=g.hex_md5("wvhe2ws"+k)}e[this.name]=e[this.name]===undefined?k:e[this.name]+","+d.trim(this.value)});d.each(e,function(n,m){f[n]=m})}return[h,f]},fill:function(e){var f=this.$element,h=e.data,i=e.tbl,g=b("ubb2");f.find("[name]").each(function(){var k,l;if(typeof i==="string"&&i.length>0){k=d(this).attr("name").replace(i+"[","").replace("]","");l=h[k]}else{if(typeof i==="object"){k=d(this).attr("name");d.each(i,function(n,m){k=k.replace(m+"[","").replace("]","")});l=h[k]}else{k=d(this).attr("name");l=h[k]}}if(l===undefined){return}if(this.nodeName==="INPUT"||this.nodeName==="SELECT"||this.nodeName==="TEXTAREA"){switch(this.type){case"hidden":case"password":case"text":case"textarea":if(d(this).hasClass("nui-editor")&&typeof(l)==="string"){d(this).editor("setData",l)}else{if(typeof(l)==="string"){l=a.htmlDecode(l)}}d(this).val(l);break;case"select-one":d(this).val(l);break;case"select-multiple":break;case"checkbox":var j=""+l;if(d.inArray(d(this).val(),j.split(","))>=0){d(this).attr("checked",true)}break;case"radio":if(d(this).val()===(l+"")){d(this).attr("checked",true)}break}}else{if(this.nodeName==="IMG"){d(this).attr("src",l)}else{d(this).html(l)}}})},clear:function(){var e=this.$element;d(".control-group",e).removeClass("error").removeClass("success");d(".form_inline1st",e).removeClass("error").removeClass("success");d("span.help-inline",e).hide();e.find("div._clear").each(function(){if(d(this).data("mutidrop")){d(this).mutidrop("setDef",{})}else{if(d(this).data("upload")){d(this).upload("_clear")}else{if(d(this).data("drop")){d(this).drop("clear")}}}});e.find(":input").each(function(){switch(this.type){case"hidden":case"password":case"text":d(this).val("");break;case"textarea":d(this).val("");if(d(this).data("editor")){d(this).editor("setData","")}break;case"select-one":var f=d(this).find("option[selected='selected']");if(f.length>0){f.attr("selected",true)}else{d(this).find("option:first").attr("selected",true)}break;case"checkbox":case"select-multiple":case"radio":d(this).removeAttr("checked")}})},clearCheck:function(){var e=this.$element;d(".control-group",e).removeClass("error").removeClass("success");d(".form_inline1st",e).removeClass("error").removeClass("success");d("span.help-inline",e).hide()},getPostData:function(){var i=this,j=this.options,g=this.$element;var f={};var h=g.find(":input").serializeArray();var e={};d.each(h,function(){e[this.name]=e[this.name]===undefined?d.trim(this.value):e[this.name]+","+d.trim(this.value)});d.each(e,function(m,l){f[m]=l});return f},post:function(e){var h=this,i=this.options,f=h.val(e),g=h.$element;if(f[0]){g.trigger(d.Event("valOk"),f[1]);i.postData=f[1];if(i.cmd){f[1]._c=i.cmd;if(i.alertMsg!==""){d.alertMsg("提示",i.alertMsg,1)}a.cmd(i.cmd,d.extend(f[1],i.para),function(j){if(i.alertMsg!==""){d("#_nui_alertmsg .close").click()}var k=d.Event("cmdReturn");g.trigger(k,j);g.trigger(d.Event("cmdOk"),j);d(i.submit).removeAttr("disabled")},function(j){if(i.alertMsg!==""){d("#_nui_alertmsg .close").click()}var k=d.Event("cmdReturn");g.trigger(k,j);if(i.alertErr){d.alertMsg("出错提示",j._m)}g.trigger(d.Event("cmdError"),j);d(i.submit).removeAttr("disabled")},false)}else{g.trigger(d.Event("setOk"),f[1]);d(i.submit).removeAttr("disabled")}}else{g.trigger(d.Event("valError"));d(i.submit).removeAttr("disabled")}},enabled:function(e){var f=d(this.options.submit);if(e){f.removeAttr("disabled")}else{f.attr("disabled","disabled")}}};d.fn.frm=function(g,f,e){return this.each(function(){var k=d(this),j=k.data("frm"),i=(typeof g==="string");if(!j){var h=d.extend({},d.fn.frm.defaults,typeof g==="object"&&g);k.data("frm",(j=new c(this,h)))}else{if(!i){j.options=d.extend({},j.options,typeof g==="object"&&g)}}if(i){if(d.isFunction(f)){f(j[g]({}))}else{if(d.isFunction(e)){e(j[g](f))}else{j[g](f)}}}})};d.fn.frm.defaults={cmd:"",submit:"",para:{},ok_flag:false,alertErr:true,css:"nui-frm",alertMsg:""};d(document).on("click.frm.data-api",'[data-api="frm"]',function(i){var h=d(this),f=d(h.attr("data-target"));if(!h.data("frm")){var g={};if(h.attr("data-cmd")){g={cmd:h.attr("data-cmd")}}f.frm(g)}f.frm("post")})}(jQuery);!function(d){var c=function(h,g){this.options=g;this.$element=d(h);this.$element.addClass(g.css).addClass(g.otherCss);this._firstEdit=-1};var f=0;var e={title:"",type:"text",id:"",val:"",must:false,edit:true,check:"",attr:"",rows:"3",cols:"30",css:"input-medium",pcss:""};c.prototype={constructor:c,_init:function(){var x=this,j=x.$element,s=x.options,p=s.fields.length,t="";if(s.width>0){j.attr("style","width:"+s.width+"px;")}j.focus(function(){if(x._firstEdit>=0){}});if(s.enter===true&&s.direct=="v"){j.keyup(function(i){if(i.keyCode===13){d("button[type=submit]",j).trigger("click")}})}var C=["","",""];var h="";var m="";if(s.direct==="v"){C[0]='<div class="control-group">';C[1]='<div class="controls">';C[2]="</div></div>";h+="form-horizontal "}if(s.direct==="h"){C[0]='<li class="form_inline1st">';C[1]='<div class="pull-left">';C[2]="</div></li>";h+="form-inline clearfix "}var u='<div class="'+h+s.frmClass+'">';var w=function(H){var G=H.must?"must "+H.check:H.check;if(H.check){return' check="'+G+'"'}if(H.mdl){var i=H.name.split("["),I=a.cfg.check[H.mdl],F=i[1].substr(0,i[1].length-1);if(I&&I[i[0]]&&I[i[0]][F]){if(G!==""){G+=" "}G+=I[i[0]][F]}}return' check="'+G+'"'};if(s.title&&!s.dialog){u+="<h4>"+s.title+"</h4>"}var z={};for(var B=0;B<p;B++){var n=d.extend({},e,s.fields[B]),l=(n.id==="")?"__fld"+(f++):n.id;n.id=l;s.fields[B]=n;if(a.cfg.check&&n.mdl&&n.name){var o=/(.*?)\[(.*?)\]/;var q=n.name.match(o);if(a.cfg.check[n.mdl]===undefined){console.log(n.text+"：mdl 填写错误，不存在这个库")}else{if(q===null){console.log(n.text+"：name="+n.name+"填写有误,格式应该是：表名[字段名]")}else{if(a.cfg.check[n.mdl][q[1]]===undefined){console.log(n.text+"："+n.mdl+"库不存在表"+q[1]+", 填写错误!")}else{if(a.cfg.check[n.mdl][q[1]][q[2]]===undefined){console.log(n.text+"："+n.mdl+"库中表"+q[1]+"不存在字段"+q[2]+", 填写错误!")}}}}}if(s.check){t=w(n)}var A="";d.each(n.attr,function(F,G){A+=F+'="'+G+'" ';if(F==="check"){t=""}});var k="";if(n.label_attr){d.each(n.label_attr,function(F,G){k+=F+'="'+G+'" '})}if(n.type==="div"||s.direct==="h"){m="pull-left"}else{m=""}var v=C[0];if(n.pcss){v=v.replace(/class="(control-group)"/g,'class="$1 '+n.pcss+'"');v=v.replace(/class="(form_inline1st)"/g,'class="$1 '+n.pcss+'"')}u+=v;if(n.showLabel===undefined||n.showLabel!==false){u+='<label class="control-label '+m+'" for="'+l+'"  '+k+">"+n.text+(n.must?'<span class="field-must">*</span>':"")+"</label>"}u+=C[1];if(!n.edit){var D="";if(s.direct==="h"){D="5"}else{D="5"}if(n.name===undefined){u+='<span style="vertical-align:-'+D+'px;" class="'+n.css+'" '+t+' id="'+l+'" '+A+">"+n.val+"</span>"}else{u+='<span style="vertical-align:-'+D+'px;" name="'+n.name+'" class="'+n.css+'" '+t+' id="'+l+'" '+A+">"+n.val+"</span>"}}else{if(x._firstEdit===-1){x._firstEdit=B}if(n.type==="select"){u+='<select name="'+n.name+'" class="'+n.css+'" id="'+l+'"'+t+" "+A+">";if(n.selectData){if(n.selectAll){if(typeof(n.selectAll)==="string"){u+='<option value="">'+n.selectAll+"</option>"}else{u+='<option value="'+n.selectAll.val+'">'+n.selectAll.text+"</option>"}}if(typeof n.selectData==="string"){var y={};if(n.selectPara){y=n.selectPara}a.cmd(n.selectData,y,function(i){d.each(i.rows,function(G,H){if(d.inArray(G,n.removeData)===-1){var F=n.val===G||G===i.selected?' selected="selected"':"";u+='<option value="'+G+'"'+F+">"+H+"</option>"}})},"",false);if(n.selectJoin){if(z[n.selectJoin]===undefined){z[n.selectJoin]=[]}z[n.selectJoin].push({cmd:n.selectData,para:y,id:l,type:"select"})}}else{d.each(n.selectData,function(F,G){if(d.inArray(F,n.removeData)==-1){var i=(n.val==F&&n.val!=="")?' selected="selected"':"";u+='<option value="'+F+'"'+i+">"+G+"</option>"}})}}u+="</select>"}else{if(n.type==="textarea"){if(n.css==="input-medium"){n.css="input-xlarge"}u+='<textarea name="'+n.name+'"'+t+' class="'+n.css+'" id="'+l+'" rows="'+n.rows+'" cols="'+n.cols+'" '+A+">"+n.val+"</textarea>"}else{if(n.type==="hr"){u+="<hr/>";if(typeof n.title!=="undefined"){u+="<h3>"+n.title+"</h3>"}}else{if(n.type==="div"){if(n.css==="input-medium"){n.css=""}if(n.val){u+='<div class="'+n.css+" "+m+'" id="'+l+'" '+A+">"+n.val+"</div>"}else{u+='<div class="'+n.css+" "+m+'" id="'+l+'" '+A+"></div>"}}else{if(n.type==="button"){u+='<button class="btn" id="'+n.id+'" '+A+">"+n.val+"</button>"}else{if(n.type==="radio"){u+='<span id="'+n.id+'">';if(n.sourceData!==undefined){var r="";d.each(n.sourceData,function(F,i){r=(F===n.val?"checked":"");u+='<input name="'+n.name+'" type="'+n.type+'" value="'+F+'" '+r+" "+t+" "+A+' autocomplete="off" />';u+=i+"&nbsp;&nbsp;&nbsp;"})}u+="</span>"}else{u+='<input name="'+n.name+'" type="'+n.type+'" value="'+n.val+'"'+t+' class="'+n.css+'" id="'+l+'" '+A+' autocomplete="off" />'}}}}}}}if(n.lineFeed){}u+=C[2]}var g="__submit"+(f++);if(s.dialog){var E="";E+='<div class="modal-header">';if(s.close===true){E+='<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>'}if(s.title){E+="<h3>"+s.title+"</h3>"}else{E+="<h3>&nbsp;&nbsp;&nbsp;</h3>"}E+="</div>";if(s.scroll===false){E+='<div class="modal-body" style="overflow:visible;">'+u+"</div></div>"}else{if(s.height){E+='<div class="modal-body" style="height:'+s.height+"px;max-height:"+s.maxHeight+'px;">'+u+"</div></div>"}else{E+='<div class="modal-body" style="max-height:'+s.maxHeight+'px;">'+u+"</div></div>"}}if(s.submit){E+='<div class="modal-footer"><button class="btn '+(s.btnDefault?"":"btn-primary")+'" id="'+g+'" type="submit">'+s.submit+"</button></div>"}j.addClass("modal hide fade").attr({role:"dialog","aria-hidden":"true"}).html(E).modal({backdrop:"static",keyboard:false,show:false})}else{if(s.submit){u+=C[0]+C[1]+'<button class="btn '+(s.btnDefault?"":"btn-primary")+" "+s.submitCss+'" id="'+g+'" type="submit">'+s.submit+"</button>"+C[2]}j.html(u)}for(var B=0;B<p;B++){var n=s.fields[B];if(n.nui){d.each(n.nui,function(F,i){d("#"+n.id)[F](i);if(F==="drop"&&n.selectJoin){if(z[n.selectJoin]===undefined){z[n.selectJoin]=[]}z[n.selectJoin].push({para:i.para,id:n.id,type:"drop"})}})}}j.frm({cmd:s.cmd,para:s.para,submit:"#"+g});d.each(z,function(I,G){var H=G.length-1,F,i;d.each(G,function(J,K){if(J<H){d("#"+K.id).change(function(){a.setSync(false);d.each(G,function(M,L){if(M>=J+1){F={};for(var N=M-1;N>=0;N--){i=d("#"+G[N]["id"]);F[i.attr("name")]=i.val()}if(L.type==="select"){d("#"+L.id).sltFill({cmd:L.cmd,param:d.extend(F,L.para)},"","全部")}else{d("#"+L.id).drop({para:d.extend(F,L.para)}).drop("reload")}}});a.setSync(true)})}})});setTimeout(function(){j.trigger(d.Event("reloadOk"),{smtId:g})},1000)}};d.fn.quickfrm=function(g){return this.each(function(){var j=d(this),i=j.data("quickfrm"),h=d.extend({},d.fn.quickfrm.defaults,typeof g==="object"&&g);if(!i){j.data("quickfrm",(i=new c(this,h)));i._init()}})};d.fn.quickfrm.defaults={fields:[],cmd:"",submit:"提交",submitCss:"",btnDefault:false,dialog:false,mask:"",para:{},title:"",direct:"v",frmClass:"well",check:true,close:true,scroll:false,css:"nui-quickform",otherCss:"",height:"",enter:true,maxHeight:480,width:0}}(jQuery);!function(e){var c=function(h,g){g.text="";this.options=g;this.$element=e(h);this.$element.addClass(g.css);this._init()};var f=0;var d=null;c.prototype={constructor:c,_init:function(){var i=this.$element,k=this.options,h="";var j=k.tid="town"+(f++),g=parseInt(k.showNum);if(!d){e.ajax({url:a.cfg.nowjs+"town.min.js",type:"GET",async:false,dataType:"json",success:function(l){d=l}})}h+='<select id="'+j+'_A" style="width:150px">';if(k.hasAll){h+='<option value="-1">'+k.allTip.province+"</option>"}e.each(d,function(l,m){h+='<option value="'+l+'">'+m.name+"</option>"});h+="</select>";if(3===g){h+='<select id="'+j+'_B" style="width:110px"></select>';h+='<select id="'+j+'_C" name="'+k.field+'" style="width:110px" check="'+k.check+'"></select>'}else{if(2===g){h+='<select id="'+j+'_B"  name="'+k.field+'" style="width:110px" check="'+k.check+'"></select>'}}i.html(h);e("#"+j+"_A").change(function(){var l=e(this).val();h="";if(k.hasAll){h+='<option value="'+l+'">'+k.allTip.city+"</option>"}if(-1!==parseInt(l)){e.each(d[l].child,function(m,n){h+='<option value="'+m+'">'+n.name+"</option>"})}e("#"+j+"_B").html(h).change()});e("#"+j+"_B").change(function(){var m=e(this).val();h="";if(3===g){if(k.hasAll){h+='<option value="'+m+'">'+k.allTip.town+"</option>"}if(-1!==parseInt(m)){e.each(d[m.substr(0,2)+"0000"].child[m.substr(0,4)+"00"].child,function(n,o){h+='<option value="'+o.code+'">'+o.name+"</option>"})}e("#"+j+"_C").html(h).change()}else{if(2===g){k.text=e("#"+j+"_A").find("option:selected").text()+e(this).find("option:selected").text();var l=e.Event("townChange");i.trigger(l,{data:k.data,text:k.text})}}});if(3===g){e("#"+j+"_C").change(function(){k.text=e("#"+j+"_A").find("option:selected").text()+e("#"+j+"_B").find("option:selected").text()+e(this).find("option:selected").text();var l=e.Event("townChange");i.trigger(l,{data:k.data,text:k.text})})}if(k.data){k.data+="";e("#"+j+"_A").val(k.data.substr(0,2)+"0000");e("#"+j+"_A").change();e("#"+j+"_B").val(k.data.substr(0,4)+"00");e("#"+j+"_B").change();if(3===g){e("#"+j+"_C").val(k.data)}}else{e("#"+j+"_A").change();e("#"+j+"_B").change()}},getTown:function(){var g=this.options;return[g.data,g.text]},setTown:function(g){var i=this.options,h=i.showNum;e("#"+i.tid+"_A").val(g.substr(0,2)+"0000");e("#"+i.tid+"_A").change();e("#"+i.tid+"_B").val(g.substr(0,4)+"00");e("#"+i.tid+"_B").change();if(3===h){e("#"+i.tid+"_C").val(g)}}};e.fn.slttown=function(i,h,g){return this.each(function(){var m=e(this),l=m.data("slttown"),k=(typeof i=="string");if(!l){var j=e.extend({},e.fn.slttown.defaults,typeof i==="object"&&i);m.data("slttown",(l=new c(this,j)))}else{if(!k){l.options=e.extend({},l.options,i)}}if(k){if(e.isFunction(h)){h(l[i]({}))}else{if(e.isFunction(g)){g(l[i](h))}else{l[i](h)}}}})};e.fn.slttown.defaults={all:"",data:"",field:"",check:"",css:"nui-slttown",hasAll:false,allTip:{province:"选择省份",city:"选择市",town:"选择区县"},showNum:3}}(jQuery);!function(d){var c=function(f,e){this.options=e;this.$element=d(f);this.$element.addClass(e.css);this.allowed="0123456789";this.reg="[^0123456789"};c.prototype={constructor:c,_init:function(){var f=this,h=this.$element,g=this.options,j=h.attr("data-decimal"),i=h.attr("data-negative");if(j){g.decimal=parseInt(j,10)}if(i){g.negative=(i==="true")}if(g.negative){f.reg+="\\-";f.allowed+="-"}if(g.decimal>0){f.reg+="\\.";f.allowed+="."}f.reg+="]";f.reg=new RegExp(f.reg,"g");var e=function(){var k=h.val().replace(f.reg,""),m=k.length;if(k){if(k.substr(0,1)==="."){k="0"+k}var l=k.lastIndexOf(".");if(k.indexOf(".")!==l){k=k.substring(0,l)+k.substr(l+1,m)}l=k.lastIndexOf("-");if(k.indexOf("-")!==l||k.indexOf("-")>1){k=k.substring(0,l)+k.substr(l+1,m)}l=k.lastIndexOf(".");if(l>0&&m-l-1>g.decimal){k=k.substring(0,l+1+g.decimal)}}h.val(k)};h.css("ime-mode","disabled").on("keyup",function(k){e();k.preventDefault()}).on("cut paste",function(k){return false});e()}};d.fn.numinput=function(e){return this.each(function(){var h=d(this),g=h.data("numinput");if(!g){var f=d.extend({},d.fn.numinput.defaults,typeof e==="object"&&e);h.data("numinput",(g=new c(this,f)));g._init()}})};d.fn.numinput.defaults={decimal:0,negative:false,css:"nui-numinput"};d(document).on("keyup.numinput.data-api",'[data-api="numinput"]',function(f){if(!d(this).data("numinput")){d(this).numinput({})}})}(jQuery);!function(f){var e=/msie/.test(navigator.userAgent.toLowerCase());var c=function(){if(e){var i="ShockwaveFlash.ShockwaveFlash",h=null;try{h=new ActiveXObject(i+".7")}catch(l){try{h=new ActiveXObject(i+".6");return[6,0,21]}catch(l){}try{h=new ActiveXObject(i)}catch(l){}}if(h!==null){return h.GetVariable("$version").split(" ")[1].split(",")}}else{var k=navigator.plugins;var j=k["Shockwave Flash"];if(j&&j.description){return j.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+r|\s+b[0-9]+)/,".").split(".")}else{if(k["Shockwave Flash 2.0"]){return["2","0","0"]}}}return[]}();var d=0;var g=function(i,h){this.options=h;this.$element=f(i);this.$element.addClass(h.css);this._init()};g.prototype={constructor:g,_init:function(){var u=this.$element,x=this.options,w=x.availattrs,h=x.availparams,m=x.version.split("."),j="<object",v=function(k,i){return" "+k+'="'+i+'"'},q=function(k,i){return'<param name="'+k+'" value="'+i+'" />'};x.id="_flash_"+(d++);x.name=x.id;if(!x.codebase){x.codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version="+m.join(",")}if(x.express){for(var t in cv){if(parseInt(cv[t],10)>parseInt(m[t],10)){break}if(parseInt(cv[t],10)<parseInt(m[t],10)){x.src=x.express}}}if(x.flashvars){x.flashvars=decodeURIComponent(f.param(x.flashvars))}w=e?w.concat(["classid","codebase"]):w.concat(["pluginspage","name"]);var r;for(r in w){var l=(r==f.inArray("src",w))?"data":w[r];j+=x[w[r]]?v(l,x[w[r]]):""}j+=">";for(r in h){l=(r==f.inArray("src",h))?"movie":h[r];j+=x[h[r]]?q(l,x[h[r]]):""}j+="</object>";if(x.replace){u.replaceWith(j)}else{u.html(j)}},getSwf:function(){var h=this.options.name;if(e){return window[h]}else{return document[h]}}};f.fn.flash=function(j,i,h){if(c.length===0){alert("您需要先安装flash，才能进行操作");return}return this.each(function(){var n=f(this),m=n.data("flash"),l=(typeof j==="string");if(!m){var k=f.extend({},f.fn.flash.defaults,typeof j=="object"&&j);n.data("flash",(m=new g(this,k)))}else{if(!l){m.options=f.extend({},m.options,typeof j=="object"&&j);m._init()}}if(l){if(f.isFunction(i)){i(m[j]({}))}else{if(f.isFunction(h)){h(m[j](i))}else{m[j](i)}}}})};f.fn.flash.defaults={replace:false,express:"",width:300,height:200,classid:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",pluginspage:"http://get.adobe.com/flashplayer",type:"application/x-shockwave-flash",css:"nui-flash",wmode:"Opaque",availattrs:["id","class","width","height","src","type"],availparams:["src","bgcolor","quality","allowscriptaccess","allowfullscreen","flashvars","wmode"],version:"10.0.0"}}(jQuery);!function(f){var c=0;var d={};f._uploadSelectOk=function(j,i,g,h){if(d[j]){d[j]._selectOk(i,g,h)}};f._uploadSelectErr=function(i,g,h){if(d[i]){d[i]._selectErr(g,h)}};f._uploadOk=function(j,h,g,i){if(d[j]){d[j]._uploadOk(h,g)}};var e=function(h,g){if(f(h).attr("id")!==undefined){g.uploadId=f(h).attr("id")}else{g.uploadId="_upload_"+(c++)}this.options=g;this.$element=f(h).attr("_nui_dispose","upload");this.$element.addClass(g.css).addClass("_clear");d[g.uploadId]=this;this._init()};e.prototype={constructor:e,_init:function(){var h=this.$element,i=this.options,g="";if(i.frmName){i.frmDataId="_upload_data_"+(c++);g+='<input type="hidden" name="'+i.frmName+'_data" id="'+i.frmDataId+'"/>';i.frmNameId="_upload_file_"+(c++);g+='<input type="hidden" name="'+i.frmName+'_name" id="'+i.frmNameId+'" readOnly="readOnly"/>';i.frmNameShowId="_upload_filename_show_"+(c++)}h.flash({width:i.width+2,height:i.height+2,wmode:i.wmode,flashvars:{id:i.uploadId,fileSize:i.fileSize,fileExt:i.fileExt,fileDesc:i.fileDesc,fileNum:i.fileNum,uploadUrl:i.uploadUrl==""?"":escape(i.uploadUrl+"&_s="+a.getSessStr()),fieldName:i.fieldName,para:i.para,txt:i.btn},src:a.cfg.nowjs+"upload.swf?"+Math.random()*1000}).prepend(g);h.on("click",".upload-close",function(){f("#"+i.frmNameShowId).parent().find("br").remove();f("#"+i.frmNameShowId).remove();f("#"+i.frmDataId).val("");f("#"+i.frmNameId).val("");h.trigger(f.Event("closeOk"),{})});f(document).on("click",".close",function(){f("#"+i.frmNameShowId).parent().find("br").remove();f("#"+i.frmNameShowId).remove();f("#"+i.frmDataId).val("");f("#"+i.frmNameId).val("")})},_selectOk:function(j,g,h){var i=this.$element,k=this.options;if(k.frmName){f("#"+k.frmNameShowId).parent().find("br").remove();f("#"+k.frmNameShowId).remove();f("#"+k.frmDataId).val(j);f("#"+k.frmNameId).val(g);i.prepend('<div id="'+k.frmNameShowId+'"><span style="float:left;">'+g+'</span><span style="float:left;" class="upload-close"></span></div><br>')}if(k.retmore!==undefined){this.$element.trigger(f.Event("selectOk"),{data:j,name:g})}else{this.$element.trigger(f.Event("selectOk"),j)}},_selectErr:function(g,h){alert(h);this.$element.trigger(f.Event("selectErr"),g,h)},_uploadOk:function(h,g){var i=this.$element,k=this.options;var j=f.parseJSON(h);if(j._c!==0){alert(j._m);return}if(k.frmName){f("#"+k.frmNameShowId).parent().find("br").remove();f("#"+k.frmNameShowId).remove();if(j.path===undefined){f("#"+k.frmDataId).val(h)}else{f("#"+k.frmDataId).val(j.path);g=j.name}f("#"+k.frmNameId).val(g);i.prepend('<div id="'+k.frmNameShowId+'"><span style="float:left;" title="'+g+'">'+(g.length>15?(g.substr(0,15)+"..."):g)+'</span><span style="float:left;" class="upload-close"></span></div><br>')}if(k.retmore!=undefined){this.$element.trigger(f.Event("uploadOk"),{data:j,name:g})}else{this.$element.trigger(f.Event("uploadOk"),j)}},_clear:function(){var g=this.options;f("#"+g.frmNameShowId).parent().find("br").remove();f("#"+g.frmNameShowId).remove();f("#"+g.frmDataId).val("");f("#"+g.frmNameId).val("")},dispose:function(){delete d[this.options.uploadId]},clear:function(){this._clear()},setDef:function(h){var g=this.$element,i=this.options;f("#"+i.frmDataId).val(h.data);f("#"+i.frmNameId).val(h.name);g.prepend('<div id="'+i.frmNameShowId+'"><span style="float:left;">'+h.name+'</span><span style="float:left;" class="upload-close"></span></div><br>')}};f.fn.upload=function(h,g){return this.each(function(){var l=f(this),k=l.data("upload"),j=(typeof h==="string");if(!k){var i=f.extend({},f.fn.upload.defaults,typeof h==="object"&&h);l.data("upload",(k=new e(this,i)))}else{if(!j){k.options=f.extend({},k.options,typeof h==="object"&&h);k.dispose();f(self._swf).remove();k._init()}}if(j){k[h](g)}})};f.fn.upload.defaults={btn:"浏览文件",width:70,height:26,wmode:"opaque",fontSize:12,frmName:"",frmId:"",alertErr:true,fileExt:"*.*",fileDesc:"所有文件类型",fileSize:120,fileNum:1,fieldName:"FileData",uploadUrl:"",para:{},css:"nui-upload"}}(jQuery);!function(h){var k="_nui_datepick";var l=0;var m=function(o,n){this.options=n;this.$element=h(o).attr("_nui_dispose","datepick").attr("readonly","readonly").addClass(n.elCss);this.$element.addClass(n.css);this._init()};var j=function(n){return n<10?"0"+n:n+""};var g=function(o,n){o=(n<0)?o-1:((n>12)?o+1:o);n=(n<0)?12:((n>12)?1:n);return o+"-"+j(n)+"-"};var c=function(r){var p=r||new Date(),o=p.getFullYear(),q=p.getMonth()+1,n=p.getDate();return o+"-"+j(q)+"-"+j(n)};var d=function(r){var n=r||new Date(),q=n.getHours(),o=n.getMinutes(),p=n.getSeconds();return j(q)+":"+j(o)+":"+j(p)};m.prototype={constructor:m,_init:function(){var o=this.$element,p=this.options,n="";p._uuid=l++;o.on("click."+p._uuid+".datepick.data-api",function(s){s.preventDefault();s.stopPropagation();var r=h(this).offset();var t=o.val();if(t&&a.val(["date"],t)===""){h("#"+k).data("day",t)}var q=t!==""?t:p.date;if(p.fixed){h("#"+k).css({position:"absolute"})}h("#"+k).datecontainer({time:p.time,clear:p.clear,date:q}).css({left:r.left,top:r.top+10+o.height(),"margin-left":"0px","margin-top":"0px","z-index":10000});h("#"+k).on("click."+p._uuid+".datepick.data-api",".day a",function(u){if(h(this).attr("class")!="unactive"){n=h(this).attr("ym")+j(h(this).text());if(p.time===true){n+=" "+h("#_date_hour").val()+":"+h("#_date_minute").val();if(p.show_secs){n+=":00"}}o.val(n);if(p.time){h("#"+k).find(".day a.active").removeClass("active");h(this).addClass("active")}else{h("#"+k).off("click."+p._uuid);h("#"+k).hide()}}}).on("click."+p._uuid+".datepick.data-api",".time-btn-ok",function(v){var u=h(".day").find("a[class=active]");n=u.attr("ym")+j(u.html());if(p.time===true){n+=" "+h("#_date_hour").val()+":"+h("#_date_minute").val();if(p.show_secs){n+=":00"}}o.val(n);h("#"+k).off("click."+p._uuid);h("#"+k).hide()}).on("click."+p._uuid+".datepick.data-api",".time-clear-ok",function(u){o.val("");h("#"+k).off("click."+p._uuid);h("#"+k).hide()}).show()});h("html").on("click."+p._uuid+".datepick.data-api",function(q){h("#"+k).off("click."+p._uuid);h("#"+k).hide()})},hidden:function(n){this.$element.hide()},dispose:function(){h("html").off("click."+op._uuid)}};h.fn.datepick=function(o,n){return this.each(function(){var r=h(this),q=r.data("datepick");if(!q){var p=h.extend({},h.fn.datepick.defaults,typeof o==="object"&&o);r.data("datepick",(q=new m(this,p)))}})};h.fn.datepick.defaults={time:false,clear:false,date:"",css:"nui-date",fixed:false,show_secs:true};h(document).on("focus.datepick.data-api",'[data-api="datepick"]',function(n){console.log("focus datepick");if(!h(this).data("datepick")){h(this).datepick({})}});var e=function(o,n){this.options=n;this.$element=h(o);this.$element.addClass(n.css);this._init()};e.prototype={constructor:e,_init:function(){var n=this,o=this.$element,p=this.options;if(h.trim(p.date)===""){o.data("day",c());o.data("time",d())}else{o.data("day",p.date.split(" ")[0]);o.data("time",p.time?p.date.split(" ")[1]:d())}h(".head a.title",o).on("click",function(){h(o).find(".date-day").hide();h(o).find(".date-year-month").show();var r=new Date(o.data("day").replace(/-/g,"/")),q=r.getFullYear(),s=r.getMonth()+1;n.reloadYearMonth(q,s)});h(".date-year-month .ym-header .year-pre",o).on("click",function(){var q=parseInt(h(".date-year-month .section-2 a.active",o).attr("data-value"),10)-10,r=parseInt(h(".date-year-month .section-1 a.active",o).attr("data-value"),10);n.reloadYearMonth(q,r)});h(".date-year-month .year-next",o).on("click",function(){var q=parseInt(h(".date-year-month .section-2 a.active",o).attr("data-value"),10)+10,r=parseInt(h(".date-year-month .section-1 a.active",o).attr("data-value"),10);n.reloadYearMonth(q,r)});h(".date-year-month .section-1 a",o).on("click",function(){h(".date-year-month .section-1 a",o).removeClass("active");h(this).addClass("active")});h(".date-year-month .ym-ok",o).on("click",function(){var s=parseInt(h(".date-year-month .section-2 a.active",o).attr("data-value"),10);var r=parseInt(h(".date-year-month .section-1 a.active",o).attr("data-value"),10);var q=o.data("day").split("-"),t=new Date(s,r-1,q[2].split(" ")[0]);o.data("day",c(t));n.reload()});h(".date-year-month .ym-cancel",o).on("click",function(){h(o).find(".date-day").show();h(o).find(".date-year-month").hide()});h(".head a.pre",o).on("click",function(){var q=o.data("day").split("-");var t=parseInt(q[0],10);var v=parseInt(q[1],10);var s=parseInt(q[2].split(" ")[0],10);var r=function(x,y){var w=new Date(x,y-1,0);return w.getDate()}(t,v);if(s>r){s=r}var u=new Date(t,v-2,s);o.data("day",c(u));n.reload()});h(".head a.next",o).on("click",function(){var q=o.data("day").split("-");var s=parseInt(q[0],10);var v=parseInt(q[1],10);var r=parseInt(q[2].split(" ")[0],10);var t=function(x,y){var w=new Date(x,y+1,0);return w.getDate()}(s,v);if(r>t){r=t}var u=new Date(s,v,r);o.data("day",c(u));n.reload()});h("#"+k).on("click.datepick.data-api",function(q){q.preventDefault();q.stopPropagation()});n.reload()},reload:function(p){var n=this.$element,u=this.options;if(typeof p!=="undefined"&&p!==""){p=p.replace(/\-/g,"/");n.data("day",c(new Date(p)));n.data("time",d(new Date(p)))}var z=new Date(n.data("day").replace(/-/g,"/")+" "+n.data("time")),y=z.getFullYear(),o=z.getMonth()+1,w=z.getDate(),t=z.getHours(),v=z.getMinutes(),r=new Date(y,o,0).getDate(),x=new Date(y,o-1,0).getDate(),D=-new Date(y,o-1,1).getDay(),C="",B=0,A;h(".title",n).text(y+"年"+j(o)+"月");h(".day",n).html("");for(var s=0;s<6;s++){for(var q=0;q<7;q++){if(D<0){C+='<a href="javascript:void(0)" class="unactive" ym='+g(y,o-1)+">"+(x-(-D)+1)+"</a>";D=D+1}else{D=D+1;if(D>r){B++;C+='<a href="javascript:void(0)" class="unactive" ym='+g(y,o+1)+">"+B+"</a>"}else{A=(D===w)?"active":"";C+='<a href="javascript:void(0)" class="'+A+'" ym='+g(y,o)+">"+D+"</a>"}}}if(B>0||D===r){break}}h(".day",n).html(C);if(u.time===true){if(t<10){t="0"+t}if(v<10){v="0"+v}h("#_date_hour").find("option[value="+t+"]").attr("selected","selected");h("#_date_minute").find("option[value="+v+"]").attr("selected","selected");h("._date_time",n).show()}else{h("._date_time",n).hide()}if(u.clear===true){h("._clear-time",n).show()}else{h("._clear-time",n).hide()}h(n).find(".date-day").show();h(n).find(".date-year-month").hide()},reloadYearMonth:function(q,s){var p=this.$element;h(".date-year-month .section-1 a",p).removeClass("active");h(".date-year-month .section-1 a[data-value="+s+"]",p).addClass("active");h(".date-year-month .section-2 li.dynamic",p).remove();var o=parseInt(q/10,10);var t="";for(var n=0;n<10;n++){var r=o+""+n;if(r==q.toString()){t+='<li class="dynamic"><a href="javascript:void(0);" data-value="'+r+'" class="se-year active">'+r+"</a></li>"}else{t+='<li class="dynamic"><a href="javascript:void(0);" data-value="'+r+'" class="se-year">'+r+"</a></li>"}}h(".date-year-month .section-2 ul",p).append(t);h(".date-year-month .section-2 a",p).on("click",function(){if(h(this).hasClass("default")){return}h(".date-year-month .section-2 a",p).removeClass("active");h(this).addClass("active")})}};h.fn.datecontainer=function(n){return this.each(function(){var r=h(this),q=r.data("datecontainer"),p=(typeof n==="string");if(!q){var o=h.extend({},h.fn.datecontainer.defaults,typeof n==="object"&&n);r.data("datecontainer",(q=new e(this,o)))}else{if(!p){q.options=h.extend({},q.options,n);q.reload(q.options.date)}}})};h.fn.datecontainer.defaults={time:true,clear:false,date:"",css:"nui-datepick"};var i='<div id="'+k+'" class="dropdown-menu hide"><div class="date-day"><div class="head"><a href="javascript:void(0);" class="pre"><i class="icon-chevron-left"></i></a><a href="javascript:void(0);" class="title"></a><a href="javascript:void(0);" class="next"><i class="icon-chevron-right"></i></a></div><div class="body"><div class="week"><span>日</span><span>一</span><span>二</span><span>三</span><span>四</span><span>五</span><span>六</span></div><div class="clearfix"></div><div class="day  clearfix"></div><div class="_date_time"><select id="_date_hour" style="width:50px; padding-left:3px;" class="pull-left">';for(var f=0;f<24;f++){if(f<10){i+='<option value="0'+f+'">0'+f+"</option>"}else{i+='<option value="'+f+'">'+f+"</option>"}}i+='</select><div class="pull-left">&nbsp;:&nbsp;</div><select id="_date_minute" style="width:50px;  padding-left:3px;" class="pull-left">';for(f=0;f<60;f++){if(f<10){i+='<option value="0'+f+'">0'+f+"</option>"}else{i+='<option value="'+f+'">'+f+"</option>"}}i+='</select><div class="pull-left">&nbsp;<button class="time-btn-ok btn-primary">确定</button></div></div><div class="_clear-time pull-left">&nbsp;<button class="time-clear-ok btn-primary">清空</button></div></div></div>';i+='<div class="date-year-month">';i+='<div class="ym-header clearfix">';i+='<div class="section-1">';i+="<ul>";i+='<li><a href="javascript:void(0);" class="se-month" data-value="1">一月</a></li>';i+='<li><a href="javascript:void(0);" class="se-month" data-value="2">二月</a></li>';i+='<li><a href="javascript:void(0);" class="se-month" data-value="3">三月</a></li>';i+='<li><a href="javascript:void(0);" class="se-month" data-value="4">四月</a></li>';i+='<li><a href="javascript:void(0);" class="se-month" data-value="5">五月</a></li>';i+='<li><a href="javascript:void(0);" class="se-month" data-value="6">六月</a></li>';i+='<li><a href="javascript:void(0);" class="se-month" data-value="7">七月</a></li>';i+='<li><a href="javascript:void(0);" class="se-month" data-value="8">八月</a></li>';i+='<li><a href="javascript:void(0);" class="se-month" data-value="9">九月</a></li>';i+='<li><a href="javascript:void(0);" class="se-month" data-value="10">十月</a></li>';i+='<li><a href="javascript:void(0);" class="se-month" data-value="11">十一月</a></li>';i+='<li><a href="javascript:void(0);" class="se-month" data-value="12">十二月</a></li>';i+="</ul>";i+="</div>";i+='<div class="section-2">';i+="<ul>";i+='<li><a href="javascript:void(0);" class="default year-pre"><i class="icon-chevron-left"></i></a></li>';i+='<li><a href="javascript:void(0);" class="default year-next"><i class="icon-chevron-right"></i></a></li>';i+="</ul>";i+="</div>";i+="</div>";i+='<div class="ym-footer">';i+='<a href="javascript:void(0);" class="ym-ok btn">确定</a>';i+='<a href="javascript:void(0);" class="ym-cancel btn">取消</a>';i+="</div>";i+="</div>";i+="</div>";h("body").append(i)}(jQuery);!function(d){var c=function(f,e){this.options=e;this.$element=d(f);this.$element.addClass(e.css);this._init()};c.prototype={constructor:c,_init:function(f){this._getPicHtml()},show:function(e){d("#_picshow").modal("show")},_getPicHtml:function(){var j=this.options,g=this,i=this.$element,f="",e=i.find("img").css({cursor:"pointer"}).on("click",function(){g.show()});f='<div class="carousel slide" id="_myCarousel">';f+='<ol class="carousel-indicators">';d.each(e,function(l,k){if(l==0){f+='<li data-slide-to="0" data-target="#_myCarousel" class="active"></li>'}else{f+='<li data-slide-to="'+l+'" data-target="#_myCarousel" class=""></li>'}});f+="</ol>";f+='<div class="carousel-inner">';d.each(e,function(m,l){var k="",n="";if(m===0){k="active"}if(l.alt){n=l.alt}f+='<div class="item '+k+'">';f+='<img alt="'+n+'" src="'+l.src+'">';if(l.alt){f+='<div class="carousel-caption">'+l.alt+"</div>"}f+="</div>"});f+="</div>";f+='<a data-slide="prev" href="#_myCarousel" class="left carousel-control">‹</a>';f+='<a data-slide="next" href="#_myCarousel" class="right carousel-control">›</a>';f+="</div>";var h="";h+='<div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button><h3>'+j.title+"</h3></div>";h+='<div class="modal-body">'+f+"</div></div>";d("body").append('<div id="_picshow" style="width:'+j.dialogWidth+'px;"></div>');d("#_picshow").addClass("modal hide fade in").attr({tabindex:"-1",role:"dialog","aria-hidden":"true"}).html(h).modal({backdrop:"static",show:false});d("#_myCarousel",i).carousel()}};d.fn.picshow=function(f,e){return this.each(function(){var j=d(this),i=j.data("picshow"),h=(typeof f==="string");if(!i){var g=d.extend({},d.fn.picshow.defaults,typeof f==="object"&&f);j.data("picshow",(i=new c(this,g)))}else{if(!h){i.options=d.extend({},i.options,typeof f==="object"&&f)}}})};d.fn.picshow.defaults={title:"picture show",dialogWidth:"",css:"nui-picshow"}}(jQuery);!function(l){var q="_nui_colorpick";var s=0;var n=function(g){this.options={_uuid:s++};this.$element=l(g);this._init()};n.prototype={constructor:n,_init:function(j){var g=this.$element,i=g.offset(),k=this.options;g.on("click."+k._uuid+".colorpick.data-api",function(r){var t=g.val();l("#"+q+" .head").text(t).css({"background-color":t});l("#"+q).css({left:i.left,top:i.top+10+g.height()}).on("click."+k._uuid+".colorpick.data-api",".body a",function(u){g.val(l(this).attr("_color"));l("#"+q).off("click."+k._uuid).hide()}).show();r.preventDefault();r.stopPropagation()});l("html").on("click."+k._uuid+".colorpick.data-api",function(r){l("#"+q).off("click."+k._uuid).hide()})}};l.fn.colorpick=function(){return this.each(function(){var i=l(this),g=i.data("colorpick");if(!g){i.data("colorpick",(g=new n(this)))}})};l(document).on("focus.colorpick.data-api",'[data-api="colorpick"]',function(g){if(!l(this).data("colorpick")){l(this).colorpick({})}});var o='<div id="'+q+'" class="nui-colorpick hide"><div class="head">&nbsp;</div><div class="body"></div></div>';l("body").append(o);o="";var c,m,p,e;for(var h=1;h<7;h++){c=Math.round(255/h,0).toString(16);for(var f=1;f<7;f++){m=Math.round(255/f,0).toString(16);for(var d=1;d<7;d++){p=Math.round(255/d,0).toString(16);e="#"+c+m+p;o+='<a style="background-color:'+e+';" href="javascript:void(0);" _color="'+e+'">&nbsp;</a>'}}}l("#"+q+" .body").html(o);l("#"+q+" .body a").on("hover.colorpick.data-api",function(i){var g=l(this).attr("_color");l("#"+q+" .head").text(g).css({"background-color":g})})}(jQuery);!function(c){var d=function(f,e){if(c.support.cssFloat===false&&c.browser.version<=7){c(f).css({"overflow-x":"scroll","overflow-y":"scroll"})}this.options=e;this.$element=c(f).addClass(e.css).html('<ul class="nav nav-list parent"><ul>');this._data={};this._select=null;this._init()};d.prototype={constructor:d,_init:function(){var e=this,f=this.$element,g=this.options;f.on("change",":checkbox",function(h){if(c(this).is(":checked")){e._event("check",c(this).attr("_id"));c(this).parent().find("input[type=checkbox]").attr("checked",true)}else{e._event("uncheck",c(this).attr("_id"));c(this).parent().find("input[type=checkbox]").attr("checked",false)}e.$element.trigger(c.Event("ckClick"),c(this).attr("_id"))});f.on("click","i.fdr-tgl",function(){var j=c(this),i=j.parent(),h=i.find("a").eq(0).find("i").eq(0);if(j.hasClass("noline-close")){j.removeClass("noline-close").addClass("noline-open");h.removeClass("folder-close").addClass("folder-open");c(">ul",i).show()}else{if(j.hasClass("noline-open")){j.removeClass("noline-open").addClass("noline-close");h.removeClass("folder-open").addClass("folder-close");c(">ul",i).hide()}}});f.on("click","a",function(j){var i=c(this),h=i.parent();if(!h.hasClass("selected")){c("li.selected",f).removeClass("selected");h.addClass("selected")}e._event("select",c(this).attr("_id"))});this.reload()},reload:function(){var f=this,g=this.options,e=g.para;f._select=null;if(typeof g.data==="string"&&g.data!==""){a.cmd(g.data,e,function(h){f._buildTree(h.tree)})}else{f._buildTree(g.data)}},_buildTree:function(g){this._data=g;var i="",f=this.$element,j=this.options,e=0;var h=function(l,k){var m="";c.each(l,function(n,r){var t=r[j.fid],p=r[j.pid];m+="<li>";if(j.check){m+='<input type="checkbox" _id="'+t+'" name="ckdata['+(e++)+']" value="'+t+'" _pid="'+p+'" _deep="'+k+'"';if(r._checked){m+=' checked="checked"'}m+="/>"}var o=r._close?"close":"open";var s=r._close?"close":"open";var q='<a href="javascript:void(0);" _id="'+t+'" _pid="'+p+'" _deep="'+k+'" title="'+r[j.txt]+'">';if(r._child){m+='<i class="switch noline-'+s+' fdr-tgl"></i>'+q+'<i class="folder-'+o+'"/>'}else{m+=q+'<i class="icon-docu"/>'}if(j.txtSize>0){m+=r[j.txt].substr(0,j.txtSize)}else{m+=r[j.txt]}if(r._child){m+='</a><ul class="folder nav nav-list';if(o==="close"){m+=" hide"}m+='">';m+=h(r._child,k+1);m+="</ul></li>"}else{m+="</a></li>"}});return m};i=h(g,1);c("ul.parent",f).html(i);f.trigger("build")},_event:function(i,l){if(l===""){return}var f=this,j=this._data,m=f.options.fid;var g=function(n){var e="";c.each(n,function(o,p){if(e){return}if(p[m]===l){e=p}else{if(p._child!==undefined){e=g(p._child)}}});return e};var h=g(j);if(h){if(i==="select"){f._select=h}var k=c.Event(i);f.$element.trigger(k,h)}},check:function(e){c('input[_id="'+e+'"]',this.$element).attr("checked","checked")},checkAll:function(){c(":checkbox",this.$element).attr("checked",true)},unCheckAll:function(){c(":checkbox",this.$element).attr("checked",false)},collapse:function(f){if(typeof f==="string"){c('ul[_id="'+f+'"]',this.$element).hide()}else{var e=this.$element;c.each(f,function(g,h){c('ul[_id="'+h+'"]',e).hide()})}},collapseAll:function(){c("ul.folder",this.$element).hide()},extend:function(f){if(typeof f==="string"){c('ul[_id="'+f+'"]',this.$element).show()}else{var e=this.$element;c.each(f,function(g,h){c('ul[_id="'+h+'"]',e).show()})}},extendAll:function(){c("ul.folder",this.$element).show()},select:function(e){setTimeout(function(){c('a[_id="'+e+'"]',this.$element).click()},1000)},getSelect:function(e){return this._select},getCheck:function(){var f=this,j=f.$element,m=f.options,g=[],k={},l=this._data.nowData,e=l.length;c(":checked",j).each(function(i,n){k[c(this).attr("_id")+""]=1});for(var h=0;h<e;h++){if(k[l[h][m.fid]+""]){g.push(l[h])}}return g},getNode:function(g){var e=this,f=this._data;return e._getNode(f[0],g)},_getNode:function(g,i){var e=this,h=null,f;if(g.id===i){h=g;return h}if(g._child&&g._child.length>0){c.each(g._child,function(l,j){f=e._getNode(j,i);if(f!==null){h=f}})}return h}};c.fn.tree=function(g,f,e){return this.each(function(){var k=c(this),j=k.data("tree"),i=(typeof g==="string");if(!j){var h=c.extend({},c.fn.tree.defaults,typeof g==="object"&&g);k.data("tree",(j=new d(this,h)))}else{if(!i){j.options=c.extend({},j.options,g)}}if(i){if(c.isFunction(f)){f(j[g]({}))}else{if(c.isFunction(e)){e(j[g](f))}else{return j[g](f)}}}})};c.fn.tree.defaults={check:false,fid:"id",pid:"pid",txt:"name",data:{},para:{},css:"nui-tree",txtSize:0}}(jQuery);!function(d){var c=function(f,e){this.options=e;this.$element=d(f).addClass(e.css);this._data={load:false};this._select=null;this._init()};c.prototype={constructor:c,_init:function(){var e=this,f=this.$element,g=this.options;e._getHead();d("th.check :checkbox",f).click(function(){if(d(this).is(":checked")){d("td.check :checkbox",f).attr("checked","checked")}else{d("td.check :checkbox",f).removeAttr("checked")}});f.on("click","span.fdr-tgl",function(){var i=d(this).find("i"),h=i.attr("id");if(i.hasClass("folder-close")){i.removeClass("folder-close").addClass("folder-open");f.find("tr[pClass="+h+"]").show()}else{if(i.hasClass("folder-open")){i.removeClass("folder-open").addClass("folder-close");d("."+h).hide();f.find("."+h).find("i.fdr-tgl").removeClass("folder-open").addClass("folder-close")}}});f.on("click","td.show-hidden i",function(){var i=d(this),h=i.attr("data-hidden");if(i.hasClass("icon-plus")){i.removeClass("icon-plus").addClass("icon-minus");f.find("tr."+h).show()}else{if(i.hasClass("icon-minus")){i.removeClass("icon-minus").addClass("icon-plus");f.find("tr."+h).hide()}}});f.on("click","a.head-order",function(){var j=d(this),i=d(this).attr("order"),h=i.length;e.options.para.orderby=i.toLocaleLowerCase();d("i.order-ico",f).removeClass("icon-arrow-up");d("i.order-ico",f).removeClass("icon-arrow-down");if(i.toLocaleLowerCase().substr(h-4,4)=="desc"){d("i.order-ico",j).removeClass("icon-arrow-up");d("i.order-ico",j).addClass("icon-arrow-down");j.attr("order",i.toLocaleLowerCase().replace("desc","asc"))}else{d("i.order-ico",j).removeClass("icon-arrow-down");d("i.order-ico",j).addClass("icon-arrow-up");j.attr("order",i.toLocaleLowerCase().replace("asc","desc"))}e.reload("n")});this.reload()},reload:function(f){var g=this,h=this.$element,i=this.options,e=i.para;e.start=(i.nowPage-1)*i.size;if(typeof i.data==="string"&&i.data!==""){e.size=i.size;e.ttl=f?f:"y";a.cmd(i.data,e,function(j){if(j[i.listKey].length<=0&&i.nowPage>1){i.nowPage=i.nowPage-1;g.reload();return}g._getBody(j[i.listKey]);if(!i.tree&&i.size>0){g._getPage(j.ttl)}a.removeFun();h.trigger(d.Event("reloadOk"),j)})}else{if(i.size>0){g._getBody(i.data.slice(e.start,e.start+i.size))}else{g._getBody(i.data)}if(!i.tree&&i.size>0){g._getPage(i.data.length)}a.removeFun();h.trigger(d.Event("reloadOk"),i.data)}g._data._load=false;h.find("input[type=checkbox]").attr("checked",false)},_event:function(h,l){if(l===""){return}var f=this,j=this._data.nowData;for(var g=0;g<j.length;g++){if(l===j[g][f.options.fid]){if(h==="select"){f._select=j[g]}var k=d.Event(h);f.$element.trigger(k,j[g]);break}}},_getHead:function(g,k){var e=this,f=e.$element,l=e.options,h=l.fields.length,j="";j='<table class="table';if(l.strip){j+=" table-hover table-striped "}if(l.row){h+=1}if(l.check){h+=1}if(l.border==="all"){j+=" table-bordered "}if(l.border==="none"){j+=" no-border "}j+='"><thead style="display:'+(l.shead===true?"":"none")+';"><tr>';if(l.title){j='<div class="header"><i></i><span class="title">'+l.title+"</span></div>"+j}if(l.hiddenRender){j+='<th class="show-hidden"></th>'}if(l.row){j+='<th class="row"></th>'}if(l.check){j+='<th class="check" style="width: 3px;"><input type="checkbox"></th>'}var i="";d.each(l.fields,function(m,o){var n=(o.width)?' style="width:'+o.width+'px"':"";i="";if(o.op){i="_operate"}if(o.center){i+=" text-center"}if(o.order){j+="<th"+n+' class="'+i+'"><a class="head-order" order="'+o.order+'" href="javascript:;">'+o.head+'<i class="order-ico"></i></a></th>'}else{j+="<th"+n+' class="'+i+'">'+o.head+"</th>"}});j+="</tr></thead><tbody></tbody></table>";if(!l.tree&&l.size>0){j+='<div class="pagination pagination-right"></div>'}f.html(j)},_getBody:function(n){var j="",m=this,g=this.$element,k=this.options,h=k.nowPage,l="";if(k.reloadHead){m._getHead()}var e=function(o){d.each(o,function(p,q){q._id=a.uniqid();if(q._child){e(q._child)}})};e(n);this._data.nowData=n;var i=function(s,o,p,t,u,r){var q="";u=u?u+"-":"";d.each(s,function(v,w){var x="";var y=(k.fid&&w[k.fid])?w[k.fid]:"";if(w._close&&w._close==true){k.spread=true}if(k.tree&&w[k.parentKey]!=""&&!k.spread){x="display:none"}q+='<tr _id="'+y+'" class="'+t+'" pclass="'+p+'" style="'+x+'">';if(k.hiddenRender){q+='<td class="show-hidden"><i class="icon-plus" data-hidden="hidden-field-'+y+'"></i></td>'}if(k.row){q+='<td class="row">'+o+u+((h-1)*k.size+v+1)+"</td>"}if(k.check){l=(w._check)?' checked="checked"':"";q+='<td class="check" style="width:3px"><input type="checkbox"'+l+' id="check_'+y+'"></td>'}d.each(k.fields,function(C,E){var B=C==0?"first":"";var D='style="';D+=E.nowrap?"white-space: nowrap;":"";D+=(E.width)?("width:"+E.width+"px;"):"";D+="text-align:"+(E.align?E.align:"left")+";";D+=(E.color)?("color:"+E.color):"";D+='"';var F="";var A="";if(E.op){B+=B==""?"_operate_td":" _operate_td"}var z="";if(E.name==k.treeField){F=o;if(w._child){z='class="fdr-tgl"';if(w._close||k.spread){A='<a href="javascript:;"><i class="folder-open" id="'+y+'"></i></a>'}else{A='<a href="javascript:;"><i class="folder-close" id="'+y+'"></i></a>'}}else{if(k.tree){A='<a href="javascript:;"><i class="icon-docu" id="'+y+'"></i></a>'}else{A=""}}}if(d.isFunction(E.render)){q+='<td class="'+B+'" '+D+'><div style="float: left;" class="table-cell">'+F+"<span "+z+">"+(k.treeOper?A:"")+'</span></div><div class="table-cell"><span>'+E.render(w[E.name],w,v)+"</span></div></td>"}else{q+='<td class="'+B+'" '+D+'><div style="float: left;" class="table-cell">'+F+"<span "+z+">"+(k.treeOper?A:"")+'</span></div><div class="table-cell"><span>'+w[E.name]+"</span></div></td>"}if(d.isFunction(E.render_full)){q=E.render_full(w)}});q+="</tr>";if(w._child){q+=i(w._child,o+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",y,t+" "+y,v+1,r)}if(k.hiddenRender){if(d.isFunction(k.hiddenRender)){q+='<tr style="display:none;" class="hidden-field-'+y+'" ><td colspan="'+r+'">'+k.hiddenRender(w,v)+"</td></tr>"}else{if(typeof k.hiddenRender=="string"){q+='<tr style="display:none;" class="hidden-field-'+y+'" ><td colspan="'+r+'">'+w[k.hiddenRender]+"</td></tr>"}}}});return q};var f=k.fields.length;if(k.row==true){f++}if(k.check==true){f++}if(k.hiddenRender){f++}if(d.isEmptyObject(n)){j+='<tr><td colspan="'+f+'" style="text-align:center">'+k.norender+"</td></tr>"}else{j=i(n,"","","",null,f)}d("tbody",g).html(j);d("tbody tr",g).click(function(){d(this).toggleClass("row_hover");m._event("select",d(this).attr("_id"))});d("td.check :checkbox",g).click(function(){var o=d(this).parent().parent().attr("_id");if(d(this).is(":checked")){if(d("td.check :checked",g).length==d("td.check",g).length){d("th.check :checkbox",g).attr("checked","checked")}else{d("th.check :checkbox",g).removeAttr("checked","checked")}m._event("check",o)}else{d("th.check :checkbox",g).removeAttr("checked","checked");m._event("uncheck",o)}})},_getPage:function(h){var o=this,g=o.$element,l=this.options;if(l.size<=0){return}if(h!=undefined&&parseInt(h,10)>-1){this._data.ttl=h;this._data.ttlPage=Math.ceil(h/l.size);o._ttlHtml='<li class="disabled"><a>共'+h+"条</a></li>"}var e=o._data.ttlPage,j=l.nowPage,m="<ul>"+o._ttlHtml,n=(j==1)?"disabled":"",f=(j==e||e==0)?"disabled":"";m+='<li class="'+n+'"><a href="javascript:void(0);">&lt;&lt;</a></li>';m+='<li class="'+n+'"><a href="javascript:void(0);">&lt;</a></li>';var i=Math.max(1,j-5);if(e<11){i=1}else{if(e-j<6){i=Math.max(1,e-9)}}var k=Math.min(e,i+9);for(;i<=k;i++){if(i==j){m+='<li class="active"><a href="javascript:void(0);">'+i+"</a></li>"}else{m+='<li><a href="javascript:void(0);">'+i+"</a></li>"}}m+='<li class="'+f+'"><a class="next" href="javascript:void(0);">&gt;</a></li>';m+='<li class="'+f+'"><a class="first" href="javascript:void(0);">&gt;&gt;</a></li></li>';d(".pagination",g).html(m);d(".pagination li",g).click(function(){if(!d(this).hasClass("disabled")&&!d(this).hasClass("active")){if(o._data._load){return}o._data._load=true;var r=d("a",d(this)).text(),p=l.nowPage,q=o._data.ttlPage;if(r==">>"){p=q}else{if(r=="<<"){p=1}else{if(r==">"){p=Math.min(p+1,q)}else{if(r=="<"){p=Math.max(p-1,1)}else{p=parseInt(r,10)}}}}l.nowPage=p;o.reload("n")}})},getRows:function(){return this._data.nowData},getRow:function(h){var f=this._data.nowData,g=this.options.fid;var e=function(l){var j="";for(var k=0;k<l.length;k++){if(l[k][g]==h){j=l[k];break}else{if(l[k]._child){j=e(l[k]._child);if(j){break}}}}return j};return e(f)},getSelect:function(){return this._select},getCheck:function(){var f=this,j=f.$element,m=f.options,g=[],k={},l=this._data.nowData,e=l.length;d("td.check :checked",j).each(function(i,n){k[d(this).parent().parent().attr("_id")+""]=1});for(var h=0;h<e;h++){if(k[l[h][m.fid]+""]){g.push(l[h])}}return g},setCheck:function(h){var f=this,j=f.$element,e=[];if(h.length===0){return}for(var g=0,k;k=h[g++];){e.push("#check_"+k.cert_id)}j.find(e.join(",")).prop("checked",true);if(d("td.check :checked",j).length==d("td.check",j).length){d("th.check :checkbox",j).prop("checked",true)}else{d("th.check :checkbox",j).prop("checked",false)}}};d.fn.grid=function(g,f,e){return this.each(function(){var k=d(this),j=k.data("grid"),i=(typeof g=="string");if(!j){var h=d.extend({},d.fn.grid.defaults,typeof g=="object"&&g);k.data("grid",(j=new c(this,h)))}else{if(!i){j.options=d.extend({},j.options,g)}}if(i){if(d.isFunction(f)){f(j[g]({}))}else{if(d.isFunction(e)){e(j[g](f))}else{j[g](f)}}}})};d.fn.grid.defaults={title:"",check:false,border:"line",strip:false,tree:false,parentKey:"pid",treeField:"name",spread:false,treeOper:true,hiddenRender:null,size:15,nowPage:1,fid:"id",row:true,shead:true,fields:[],data:"",css:"nui-grid",para:{},reloadHead:false,norender:"还没有相关记录",listKey:"rows"}}(jQuery);!function(c){c.page=function(l,e){var i="",f=l.total,k=l.perpage,g=l.curpage,d=Math.ceil(f/k);var h=function(){var q="<ul>",o=(g==1)?"disabled":"",p=(g==d||d==0)?"disabled":"";if(f!=undefined&&parseInt(f,10)>-1){q+='<li class="disabled"><a page="">共'+f+"条</a></li>"}q+='<li class="'+o+'"><a href="javascript:void(0);" page="'+(g==1?"":"first")+'">&lt;&lt;</a></li>';q+='<li class="'+o+'"><a href="javascript:void(0);" page="'+(g==1?"":"pre")+'">&lt;</a></li>';var n=Math.max(1,g-5);if(d<11){n=1}else{if(d-g<6){n=Math.max(1,d-9)}}var m=Math.min(d,n+9);for(;n<=m;n++){if(n==g){q+='<li class="active"><a href="javascript:void(0);" page="">'+n+"</a></li>"}else{q+='<li><a href="javascript:void(0);" page="'+n+'">'+n+"</a></li>"}}q+='<li class="'+p+'"><a class="next" href="javascript:void(0);" page="'+((g==d||d==0)?"":"next")+'">&gt;</a></li>';q+='<li class="'+p+'"><a class="first" href="javascript:void(0);" page="'+((g==d||d==0)?"":"last")+'">&gt;&gt;</a></li></ul>';q='<div class="pagination pagination-right page_ml" pageCon="y">'+q+"</div>";return q};var j=function(){};if(c.isFunction(e)){i=e(l.curpage,l.total,l.perpage)}else{if(e=="long"){i=h()}else{if(e=="short"){i=j()}}}return i}}(jQuery);!function(d){var c=function(f,e){this.options=e;this.$element=d(f).addClass(e.css);this._data={load:false};this._init()};c.prototype={constructor:c,_init:function(){var e=this.$element,g=this.options,f="";if(g.col<=0){g.col=3}g.itemSpan=parseInt(12/g.col,10);g.size=g.col*g.row;if(g.tpl==""){f+="<div>";f+='<div class="repeat-head"><div class="pull-left">';g.title&&(f+='<span class="repeat-title">'+g.title+"</span>");f+="</div>";if(g.moreTitle!=""){f+='<div class="pull-right"><a href="javascript:;" class="repeat-more">'+g.moreTitle+"</a></div>"}f+="</div>";f+='<div class="repeat-body"></div>';f+="</div>";e.html(f)}e.on("click","a.repeat-more",function(){if(d.isFunction(g.moreFun)){g.moreFun()}else{if(g.moreFun!=""){window.location.href=a.cfg.index+"?_c="+g.moreFun}}});if(g.showpage){this.reload()}else{this.reload("n")}},reload:function(f){var g=this,i=this.options,e=i.para,h=this.$element;e.start=(i.nowPage-1)*i.size;if(typeof i.data=="string"&&i.data!=""){e.ttl=f?f:"y";if(i.size===""){e.all="y"}else{e.size=i.size}a.cmd(i.data,e,function(j){if(j.rows.length<=0&&i.nowPage>1){i.nowPage=i.nowPage-1;g.reload();return}g._getBody(j.rows);if(e.ttl=="y"){i.ttl=j.ttl;g._getPage(j.ttl)}else{g._getPage(i.ttl)}a.removeFun();h.trigger(d.Event("reloadOk"),j);if(d.isFunction(i.callback)){i.callback(j)}},null,false)}else{g._getBody(i.data);g._getPage(i.data.length);a.removeFun();h.trigger(d.Event("reloadOk"),i.data)}g._data._load=false},_getBody:function(p){this._data.nowData=p;var n="",f=this.$element,o=this.options,g="",h="";if(o.tpl==""){var q='<div class="span'+o.itemSpan+' repeat-item"';q+='style="margin-left:0px;';if(o.itemHeight){q+=" height:"+o.itemHeight+"px;"}if(o.itemBorder){q+=" border:1px solid;"}q+='">';if(p.length==0){n+='<div class="row-fluid">';n+=o.norender;n+="</div>"}else{h=Math.ceil(p.length/o.col);n+='<div class="repeat-content pull-left" style="width:100%">';n+='<div class="row-fluid">';for(var l=0;l<h;l++){g=p.slice(o.col*l,o.col*(l+1));d.each(g,function(i,k){if(o.close){n+=q+'<a class="close _slt-close" type="button" '+o.fid+'="'+k[o.fid]+'">×</a>'}else{n+=q}if(d.isFunction(o.render)){if(o.isSub===false){n+=o.render(k)+"</div>"}else{n+='<div class="repeat-model-single" id="sltdata_'+k[o.fid]+'">'+o.render(k)+"</div></div>"}}else{a.tpl(o.render,k,function(s){if(o.isSub===false){n+=s+"</div>"}else{n+='<div class="repeat-model-single" id="sltdata_'+k[o.fid]+'">'+s+"</div></div>"}},false)}});g=""}n+="</div>";n+="</div>"}d(".repeat-body",f).html(n)}else{var n=o.tpl,r="";d.each(p,function(i,k){if(d.isFunction(o.render)){if(o.isSub===false){r+=o.render(k)}else{r+='<div class="repeat-model-single" id="sltdata_'+k[o.fid]+'">'+o.render(k)+"</div>"}}else{a.tpl(o.render,k,function(s){if(o.isSub===false){r+=s}else{r+='<div class="repeat-model-single" id="sltdata_'+k[o.fid]+'">'+s+"</div></div>"}},false)}});var e=/\{\w+\}/g;var m=o.tpl.match(e);if(m){for(var l=0;l<m.length;l++){var j=m[l].substring(1,m[l].length-1);if(j!="render"){n=n.replace(m[l],o[j])}}}n=n.replace("{render}",r);f.html(n)}},_getPage:function(e){var f=this,g=f.$element,h=this.options;d("[pageCon=y]",g).remove();if(!h.showpage||e==0){return}if(e!=undefined&&parseInt(e,10)>-1){f._data.ttlPage=Math.ceil(e/h.size)}g.append(d.page({curpage:h.nowPage,total:e,perpage:h.size},h.pageRender));d("[pageCon=y] a",g).click(function(){var k=d(this).attr("page");if(k!=""){if(f._data._load){return}f._data._load=true;var i=h.nowPage,j=f._data.ttlPage;if(k=="last"){i=j}else{if(k=="first"){i=1}else{if(k=="next"){i=Math.min(i+1,j)}else{if(k=="pre"){i=Math.max(i-1,1)}else{i=parseInt(k,10)}}}}h.nowPage=i;f.reload("n")}})},getRow:function(h){var f=this._data.nowData,g=this.options.fid;var e=function(l){var j="";for(var k=0;k<l.length;k++){if(l[k][g]==h){j=l[k];break}else{if(l[k]._child){j=e(l[k]._child);if(j){break}}}}return j};return e(f)}};d.fn.repeat=function(g,f,e){return this.each(function(){var k=d(this),j=k.data("repeat"),i=(typeof g=="string");if(!j){var h=d.extend({},d.fn.repeat.defaults,typeof g=="object"&&g);k.data("repeat",(j=new c(this,h)))}else{if(!i){j.options=d.extend({},j.options,g)}}if(i){if(d.isFunction(f)){f(j[g]({}))}else{if(d.isFunction(e)){e(j[g](f))}else{j[g](f)}}}})};d.fn.repeat.defaults={title:"",nowPage:1,render:"",data:"",para:{},col:3,row:2,showpage:true,fid:"",norender:"还没有相关记录",itemHeight:0,itemWidth:0,itemBorder:false,pageRender:"long",tpl:"",css:"nui-repeat",isSub:false,close:false,moreTitle:"",moreFun:"",callback:function(e){}}}(jQuery);!function(c){var d=function(f,e){this.options=e;this.$element=c(f).addClass(e.css);this._data={load:false};this.piccut=null;if(!window.Piccut){c.ajax({url:e.jsPath?e.jsPath:a.cfg.nowjs+"jquery-ui-1.10.3.custom.min.js",type:"GET",async:false,dataType:"script"});c.ajax({url:e.jsPath?e.jsPath:a.cfg.nowjs+"jquery.cropzoom.js",type:"GET",async:false,dataType:"script"})}this._init()};d.prototype={constructor:d,_init:function(){var e=this,f=this.$element,h=this.options,g="";g='<div class="modal-header">';g+='	<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>';g+='	<h3 id="myModalLabel">上传照片</h3>';g+="</div>";g+='<div class="modal-body">';g+='<div class="crop">';g+='  <div class="clearfix" style="height: 34px; line-height:34px; overflow:hidden;">';g+='	<div id="_uploadTemps" class="pull-left"></div>';g+='	<div style="color:red; margin-left:10px;" class="pull-left">友情提示：只允许上传jpg和png格式的图片,图片大小不能超过'+h.fileSize/1024+"M</div>";g+="  </div>";g+='	<div style="display:none"><img id="_picTemps" src="'+h.picUrl+'"></div>';g+='	<div id="cropzoom_container" style="float:left"></div>';g+='	<div id="preview" style="overflow:hidden; border:1px solid #333333;margin-left:'+(h.width+10)+"px;width:"+h.w+'px;"><img id="generated" src="'+a.cfg.nowjs+'img/head.gif"  /></div>';g+='	<div class="page_btn" style="margin-left:'+(h.width+10)+'px;margin-top:13px;">';g+='		<input type="button" class="btn btn-info" id="crop" value="剪切照片" />';g+='		<input type="button" class="btn btn-danger" id="restore" value="照片复位" />';g+="	</div>";g+='	<div class="page_btn" style="margin-left:'+(h.width+87)+'px;margin-top:10px;">';g+='		<input type="button" class="btn btn-primary" id="save" value="点击保存" />';g+='		<input type="hidden" id="pic_ret" value="" />';g+="	</div>";g+='	<div class="clear"></div>';g+="</div>";g+="</div>";if(h.dialog){f.addClass("modal hide fade").attr({role:"dialog","aria-hidden":"true"}).css({width:"650px"}).html(g).modal({backdrop:"static",keyboard:false})}else{f.html(g)}setTimeout(function(){var i=new Image();i.src=h.picUrl;h.image={};h.image.source=h.picUrl;h.image.width=i.width;h.image.height=i.height;h.image.minZoom=h.minZoom;h.image.maxZoom=h.maxZoom;h.selector={};h.selector.centered=true;h.selector.bgInfoLayer="#fff";h.selector.startWithOverlay=false;h.selector.w=h.w;h.selector.h=h.h;h.selector.borderColor=h.borderColor;h.selector.borderColorHover=h.borderColorHover;e.piccut=c("#cropzoom_container",f).cropzoom(h);c("#crop",f).click(function(){if(h.maxUpload){alert("请上传照片");return}if(h.savePara._c){delete h.savePara._c}e.piccut.send(a.cfg.index+"?_c="+h.cutUrl,"POST",h.savePara,function(j){c("#generated").attr("src",j+"?"+new Date().getTime());c("#pic_ret").val(j)})});c("#restore",f).click(function(){c("#generated").attr("src",a.cfg.nowjs+"img/head.gif");e.piccut.restore()});c("#save",f).click(function(){if(c("#pic_ret",f).val()==""){alert("请剪切照片")}else{h.savePara.pic_url=c("#pic_ret",f).val();a.cmd(h.saveUrl,h.savePara,function(j){f.trigger(c.Event("saveOk"),j)})}});c("#_uploadTemps").upload({fileExt:"*.png;*.jpg",fileDesc:"选择图片",uploadUrl:"/index.php?_c="+h.sltUrl,fileSize:h.fileSize,para:{}}).on("uploadOk",function(l,j){var k="";if(typeof(j)=="string"){k=j}else{k=j.path}c("#_picTemps").attr("src",k);var m={};m.source=k;setTimeout(function(){e.setImageData(m)},1000);h.maxUpload=false})},1000)},setImageData:function(f){var e=this;c("#_picTemps").parent().show();f.width=c("#_picTemps").innerWidth();f.height=c("#_picTemps").innerHeight();c("#_picTemps").parent().hide();e.piccut.setImage(f);c("#_picTemps").attr("src","")}};c.fn.piccut=function(g,f,e){return this.each(function(){var k=c(this),j=k.data("piccut"),i=(typeof g=="string");if(!j){var h=c.extend({},c.fn.piccut.defaults,typeof g=="object"&&g);k.data("piccut",(j=new d(this,h)))}else{if(!i){j.options=c.extend({},j.options,g)}}if(i){if(c.isFunction(f)){f(j[g]({}))}else{if(c.isFunction(e)){e(j[g](f))}else{j[g](f)}}}})};c.fn.piccut.defaults={sltUrl:"",cutUrl:"",saveUrl:"",cutPara:{},savePara:{},picUrl:a.cfg.nowjs+"img/pic_default.png",minZoom:10,maxZoom:150,w:150,h:210,borderColor:"blue",borderColorHover:"yellow",width:400,height:300,bgColor:"#ccc",enableRotation:true,enableZoom:true,zoomSteps:10,rotationSteps:10,dialog:false,fileSize:1024,maxUpload:true}}(jQuery);!function(d){var c=function(f,e){this.options=e;this.$element=d(f).addClass(e.css);this._data={load:false};this._init()};c.prototype={constructor:c,_init:function(){var e=this,f=this.$element;f.on("click","li._a_pill",function(){d(this).parent().find("li.active").removeClass("active");d(this).addClass("active");e._event("select")});this.reload()},reload:function(f){var g=this,h=this.options,e=h.para;if(typeof h.data=="string"&&h.data!=""){a.cmd(h.data,e,function(i){g._getBody(i.rows)})}else{g._getBody(h.data)}},_event:function(k){var m=this,f=this.$element,h=this._data.nowData,i=m.options.fid,l="";l=d("li.active",f);var n=function(o){var e={};d.each(o,function(p,q){d.each(q.list,function(r,s){d.each(l,function(u,t){if(t.id==s[i]){e[d("li#"+t.id,f).parent().attr("name")]=s[i]}})})});return e};var g=n(h);if(g){var j=d.Event(k);m.$element.trigger(j,g)}},_getBody:function(h){this._data.nowData=h;var f="",g=this.$element,i=this.options,e="_a_pill";d.each(this._data.nowData,function(j,k){f+="<dl>";if(k.title){f+="<dt>"+k.title+" : </dt>"}f+='<dd><ul class="nav nav-pills" name="'+k.name+'">';if(k.all){f+='<li class="'+e+'"><a href="javascript:;" id="">'+k.all+"</a></li>"}d.each(k.list,function(l,m){if(k.val==m[i.fid]){e="_a_pill active"}else{e="_a_pill"}f+='<li id="'+m[i.fid]+'"  class="'+e+'"><a href="javascript:;">'+m.name+"</a></li>"});f+="</ul></dd>";f+="</dl>"});g.html(f)}};d.fn.hselect=function(g,f,e){return this.each(function(){var k=d(this),j=k.data("hselect"),i=(typeof g=="string");if(!j){var h=d.extend({},d.fn.hselect.defaults,typeof g=="object"&&g);k.data("hselect",(j=new c(this,h)))}else{if(!i){j.options=d.extend({},j.options,g)}}if(i){if(d.isFunction(f)){f(j[g]({}))}else{if(d.isFunction(e)){e(j[g](f))}else{j[g](f)}}}})};d.fn.hselect.defaults={data:"",para:{},fid:"id",css:"nui-hselect"}}(jQuery);!function(c){var d=function(f,e){this.options=e;this.$element=c(f).addClass(e.css);this._data={load:false};this._init()};d.prototype={constructor:d,_init:function(){var e=this,f=this.$element;this.reload()},reload:function(f){var g=this,h=this.options,e=h.para;if(typeof h.data=="string"&&h.data!=""){a.cmd(h.data,e,function(i){g._getBody(i.rows)})}else{g._getBody(h.data)}},_event:function(j){var f=this,i=this.$element,k=this._data.nowData;var g=function(m){var e={};c.each(m,function(n,o){c.each(o.list,function(p,q){c.each(_selectObj,function(t,r){if(r.id==q[_fid]){e[c("li#"+r.id,i).parent().attr("name")]=q[_fid]}})})});return e};var h=g(k);if(h){var l=c.Event(j);f.$element.trigger(l,h)}},_getBody:function(h){this._data.nowData=h;var f="",g=this.$element,j=this.options,i=j.defVal;g.html("");var e="";c.each(this._data.nowData,function(k,l){e=i==k?"selected":"";f+='<option value="'+k+'" '+e+">"+l+"</option>"});g.html(f)}};c.fn.vselect=function(g,f,e){return this.each(function(){var k=c(this),j=k.data("vselect"),i=(typeof g=="string");if(!j){var h=c.extend({},c.fn.vselect.defaults,typeof g=="object"&&g);k.data("vselect",(j=new d(this,h)))}else{if(!i){j.options=c.extend({},j.options,g)}}if(i){if(c.isFunction(f)){f(j[g]({}))}else{if(c.isFunction(e)){e(j[g](f))}else{j[g](f)}}}})};c.fn.vselect.defaults={data:"",para:{},defVal:"",all:false,css:"nui-vselect"}}(jQuery);!function(c){var d=function(f,e){this.options=e;this.$element=c(f).addClass(e.css);this._data={load:false};this._init()};d.prototype={constructor:d,_init:function(){var e=this.$element;e.on("click","div.nui-scroll-left",function(){var i="",h="",f="",j="",g="";i=c("div.nui-scroll-item",e);h=c("div.show",e);if(i.length>0){f=i.get(0).id}if(h.length>0){j=h.get(0).id;g=h.get(h.length-1).id;if(j!=f){c("#"+j,e).prev().removeClass("hide").addClass("show");c("#"+g,e).removeClass("show").addClass("hide")}}});e.on("click","div.nui-scroll-right",function(){var i="",h="",f="",j="",g="";i=c("div.nui-scroll-item",e);h=c("div.show",e);if(i.length>0){f=i.get(i.length-1).id}if(h.length>0){j=h.get(0).id;g=h.get(h.length-1).id;if(g!=f){c("#"+j,e).removeClass("show").addClass("hide");c("#"+g,e).next().removeClass("hide").addClass("show")}}});e.on("click","#_viewHref",function(){e.trigger(c.Event("viewAll"),"")});this.reload()},reload:function(f){var g=this,h=this.options,e=h.para;if(typeof h.data=="string"&&h.data!=""){e.all="y";e.ttl=f?f:"y";a.cmd(h.data,e,function(i){g._getBody(i.rows,i.ttl)})}else{g._getBody(h.data,h.data.length)}},_getBody:function(i,e){this._data.nowData=i;var g="",h=this.$element,k=this.options,f="show",j;j=k.itemWidth*k.showNum+80;g+='<div style="width: '+j+'px;">';g+='	<div class="row-fluid nui-scroll-head">';g+='		<div class="pull-left">';if(k.title!=""){g+=k.title}g+="		</div>";g+='		<div class="pull-right">';if(k.ttl!=""){g+=k.ttl.replace("{ttl}",e)}if(k.ttlTxt!=""){g+='&nbsp;&nbsp;<a id="_viewHref" href="javascript:;">'+k.ttlTxt+"</a>"}g+="		</div>";g+="	</div>";g+='	<div class="row-fluid nui-scroll-body" style="height: '+k.bodyHeight+"px;width:"+j+'px;">';g+='		<div class="pull-left nui-scroll-left" style="height: '+k.bodyHeight+"px;line-height:"+k.bodyHeight+'px;">&lt;</div>';g+='		<div class="pull-right nui-scroll-right" style="height: '+k.bodyHeight+"px;line-height:"+k.bodyHeight+'px;">&gt;</div>';g+='		<div class="nui-scroll-content">';c.each(this._data.nowData,function(l,m){if(l>=k.showNum){f="hide"}g+='<div class="nui-scroll-item '+f+'" id="'+m[k.fid]+'" style="width: '+k.itemWidth+'px;">';if(c.isFunction(k.render)){g+=k.render(m)}else{a.tpl(k.render,m,function(n){g+=n},false)}g+="</div>"});g+="		</div>";g+="	</div>";g+="</div>";h.html(g)}};c.fn.scroll=function(g,f,e){return this.each(function(){var k=c(this),j=k.data("scroll"),i=(typeof g=="string");if(!j){var h=c.extend({},c.fn.scroll.defaults,typeof g=="object"&&g);k.data("scroll",(j=new d(this,h)))}else{if(!i){j.options=c.extend({},j.options,g)}}if(i){if(c.isFunction(f)){f(j[g]({}))}else{if(c.isFunction(e)){e(j[g](f))}else{j[g](f)}}}})};c.fn.scroll.defaults={title:"",ttl:"",ttlTxt:"",render:"",data:"",para:{},showNum:3,fid:"id",bodyHeight:"150",itemWidth:"150"}}(jQuery);!function(c){var d=function(f,e){this.options=e;this.$element=c(f).addClass(e.css).addClass("_clear");this._data={load:false};this._init()};d.prototype={constructor:d,_init:function(){var e=this,i=e.$element,l=e.options,f=e._data,k="",h=c(".dropdown").length,g="";if(l.minWidth&&l.minWidth>0){g=" min-width: "+l.minWidth+"px"}k+='<div class="dropdown" style="z-index:'+(1000-h)+'";>';k+='<div class="drop-top">';k+='	<a class="dropdown-toggle" data-toggle="dropdown" style="'+g+'" href="javascript:;">';k+="		<span>"+l.val+"</span>";k+='		<b class="caret"></b>';k+='		<input id="drop_result" type="hidden" name="'+l.name+'" value="" class="_drop-value" check="'+l.frmCheck+'">';k+="	</a>";k+="</div>";k+='	<div id="dropdown_con" class="dropdown_con">';if(!l.hide_search){k+='	<div class="dropdown_search"><input id="dropSearch" type="text"><a class="ico_search" href="javascript:;">&nbsp;</a></div>'}k+='	<ul class="dropdown-menu" style="max-height:260px;overflow-y:auto;width: '+l.listWidth+'px;"></ul></div>';k+="</div>";i.html(k);i.click(function(m){m.stopPropagation()});c(document).click(function(){c("#dropdown_con",i).hide()});i.on("click","li.nui-drop-li",function(){c(".dropdown-toggle",i).find("span").html(c(this).html());c(".dropdown-toggle",i).find("input").val(c(this).attr("id"));c("#dropdown_con",i).hide();c(".nui-drop-li",i).removeClass("active");c(this).addClass("active");e._event("select",c(this).attr("id"));c("#dropSearch",i).val("");c("li.nui-drop-li",i).show()});i.on("click","a.dropdown-toggle",function(){c(".dropdown_con").hide();c(".nui-drop .dropdown_con",i).hide();c("#dropdown_con",i).show();c("ul.dropdown-menu",i).show();c("#dropSearch",i).focus()});i.on("keyup","#dropSearch",function(r){var n=c.trim(c(this).val());if(n==""){c(this).val("");c("li.nui-drop-li",i).show();return false}var o=c("ul.dropdown-menu",i),m=o.css("max-height")?parseInt(o.css("max-height"),10):260,q=o.height();o.css({height:"auto"});if(c(".nui-drop-li:visible",i).length<1&&q>=m){o.height(0)}var p=new RegExp(n,"i");o.find("li a").each(function(s,t){if(p.test(c(t).text())){c(t).parent().show()}else{c(t).parent().hide()}});var o=c("ul.dropdown-menu",i),m=o.css("max-height")?parseInt(o.css("max-height"),10):260,q=o.height();o.css({height:"auto"});if(c(".nui-drop-li:visible",i).length<1&&q>=m){o.height(0)}});i.on("keydown","#dropSearch",function(m){if(m.keyCode=="13"){e.options.para[l.keyword]=c.trim(c(this).val());c("li.nui-drop-li",i).remove();i.drop("reload","search");c("#dropdown_con",i).show();return false}});i.on("click",".ico_search",function(m){e.options.para[l.keyword]=c.trim(c("#dropSearch",i).val());c("li.nui-drop-li",i).remove();i.drop("reload","search");c("#dropdown_con",i).show();return false});i.on("keydown",function(n){var o=c("#dropdown_con",i);if(i==null||i==undefined||o==null||o==undefined){return}if(o.css("display")!="none"&&e._isInViewZone(o)){var m=c(".nui-drop-li:visible",i).index(c(".nui-drop-li:visible.active",i));if(n.keyCode=="38"){return e._setLiActive(m-1)}else{if(n.keyCode=="40"){return e._setLiActive(m+1)}}}});this._appending=false;this._isLastPage=false;i.find("ul.dropdown-menu").on("scroll",function(m){var n=e.options;if(this.clientHeight+this.scrollTop>=this.scrollHeight){if(e._appending||e._isLastPage){return false}e._appending=true;e._currPage++;n.para.curr_page=e._currPage;a.cmd(n.data,n.para,function(o){if((c.isArray(o.rows)&&o.rows.length===0)||c.isEmptyObject(o.rows)){e._isLastPage=true;return}c(".dropdown-menu",i).append(e._getList(o.rows));e._data.nowData=j(e._data.nowData,o.rows);e._appending=false},function(){e._appending=false},false)}});function j(m,n){return c.isArray(n)&&c.isArray(m)?m.concat(n):c.extend(m,n)}this.reload()},_isInViewZone:function(g){var f=g.offset().top,e=c(window).height(),h=c(document).scrollTop();if(f>=h&&f<=h+e){return true}else{return false}},_setLiActive:function(f){var h=this.$element,g=c(".nui-drop-li:visible",h).length,i=c(".nui-drop-li",h),e=c(".nui-drop-li:visible",h);if(f>=0&&f<g){i.removeClass("active");c(e[f]).addClass("active");return false}else{return true}},reload:function(f){var g=this,h=this.options,e=h.para;e.curr_page=this._currPage=1;this._isLastPage=false;this._appending=false;if(typeof h.data=="string"&&h.data!=""){if(h.defVal!=""){e.dval=h.defVal;h.defVal=""}a.cmd(h.data,e,function(i){g._getBody(i.rows);if(f!="search"){h.callBack(i.rows)}},null,false)}else{if(h.data!=""){g._getBody(h.data);if(h.data&&f!="search"){h.callBack(h.data)}}}},settext:function(f){var e=this.$element;c(".dropdown-toggle",e).find("span").html(f)},select:function(f){var e=this.$element;c("li.nui-drop-li",e).each(function(g,h){if(c(this).attr("id")==f){c(".dropdown-toggle",e).find("span").html(c(this).html());c(".dropdown-toggle",e).find("input").val(c(this).attr("id"));c("#dropdown_con",e).hide();c(".nui-drop-li",e).removeClass("active");c(this).addClass("active");e.trigger("select",f);return}})},_event:function(i,l){var f=this,j=this._data.nowData,m=f.options.fid;var g=function(n){var e="";c.each(n,function(o,p){if(e){return}if(p[m]==l){e=p}});return e};var h=g(j);if(h){var k=c.Event(i);f.$element.trigger(k,h)}else{var k=c.Event(i);f.$element.trigger(k,{})}},_getBody:function(g){this._data.nowData=g;var e="",f=this.$element,h=this.options;if(h.selectAll!=""&&(g.length>0||!c.isEmptyObject(g))){e+='<li class="nui-drop-li"><a href="javascript:;">'+h.selectAll+"</a></li>"}e+=this._getList(this._data.nowData);c(".dropdown-menu",f).html(e);if(h.reloadOk){setTimeout(function(){f.trigger(c.Event("reloadOk"),g)},1000)}},_getList:function(h){var e="",f=this.$element,i=this.options,g=0;c.each(h,function(j,k){if(i.isSetDef&&g==0&&c(".dropdown-menu",f).html()==""){c(".dropdown-toggle",f).find("span").html(k.name);c(".dropdown-toggle",f).find("input[name="+i.fid+"]").val(k[i.fid]);e+='<li class="nui-drop-li active" id="'+k[i.fid]+'" title="'+k.name+'"><a href="javascript:;">'+k.name+"</a></li>"}else{e+='<li class="nui-drop-li" id="'+k[i.fid]+'" title="'+k.name+'"><a href="javascript:;">'+k.name+"</a></li>"}g++});return e},setDef:function(f){var e=this.$element;if(f===""){return}c(".dropdown-toggle",e).find("span").html(c("#"+f,e).html());c(".dropdown-toggle",e).find("input").val(c("#"+f,e).attr("id"));c("#dropdown_con",e).hide();c(".nui-drop-li",e).removeClass("active");c("#"+f,e).addClass("active")},setByIdx:function(e){var f=this;var g=this.$element,h=c(".dropdown-menu li",g).eq(e).attr("id");this.setDef(h);f._event("select",h)},setByText:function(g){var e=this,f=e.$element;c(".dropdown-menu li",f).each(function(h,k){if(c(this).text()==g){var j=c(this).attr("id");if(j&&j!=""){e.setDef(j)}else{e.settext(g);c(".dropdown-toggle",f).find("input").val("");e._event("select","")}return false}})},getVal:function(){var e=this,h=this.options,f=e.$element,g="";g=f.find("input[name="+h.name+"]").val();return g},getText:function(){var e=this,f=e.$element,g=c(".dropdown-toggle",f).find("span").text();return g},clear:function(){var e=this.$element;c("#drop_result",e).val("");c(".dropdown-toggle",e).find("span").html("请选择")},clearAll:function(){var e=this.$element;c("#drop_result",e).val("");c(".dropdown-toggle",e).find("span").html("请选择");c("#dropdown_con ul",e).empty()}};c.fn.drop=function(g,f,e){return this.each(function(){var k=c(this),j=k.data("drop"),i=(typeof g=="string");if(!j){var h=c.extend({},c.fn.drop.defaults,typeof g=="object"&&g);k.data("drop",(j=new d(this,h)))}else{if(!i){j.options=c.extend({},j.options,g)}}if(i){if(c.isFunction(f)){f(j[g]({}))}else{if(c.isFunction(e)){e(j[g](f))}else{j[g](f)}}}})};c.fn.drop.defaults={data:"",para:{},name:"searchslt",fid:"id",width:240,listWidth:233,hide_search:false,keyword:"keyword",isSetDef:false,defVal:"",css:"nui-drop",val:"请选择",selectAll:"",callBack:function(e){},reloadOk:true,frmCheck:"",minWidth:0}}(jQuery);!function(d){var c=function(f,e){this.options=e;this.$element=d(f).addClass(e.css).addClass("_clear").css(e.style);this._data={load:false};this._init()};c.prototype={constructor:c,_init:function(){var e=this,g=this.$element,k=this.options,f=this._data,j="";var h=24*k.showLine+14;j+='<div class="dropdown drop-multi">';j+='	<div class="dropdown-toggle" data-toggle="dropdown" href="javascript:;" style="cursor: pointer">';j+='		<ul class="drop-choices" style=" min-height: 32px;max-height: '+h+'px;"><li class="search-field"><input class="default" type="text" style="width: 233px;" autocomplete="off" value="请点击选择" readonly=true></li></ul>';j+='		<input id="mutidrop_result" type="hidden" name="'+k.name+'" value="" class="_muti-drop-value" check="'+k.frmCheck+'">';j+="	</div>";j+='	<div id="mutidrop_con" style="display:none">';if(k.search){j+='	<div class="dropdown_search"><input id="mutiDropSearch" type="text"><a class="ico_search" href="javascript:;">&nbsp;</a></div>'}j+='	<ul class="dropdown-menu mutidrop-search" style="max-height:260px;overflow-y:auto;">';j+="	</ul></div>";j+="</div>";g.html(j);g.click(function(l){l?l.stopPropagation():event.cancelBubble=true});d(document).click(function(){d("#mutidrop_con",g).hide();d("#mutiDropSearch",g).val("");e._resetList()});g.on("click","li.nui-drop-li",function(){var l=d("#mutidrop_result",g).val();if(k.max_slt>0&&l!=""){var o=l.split(",");if(o.length>=k.max_slt){d.alertMsg("最多只能选择"+k.max_slt+"个");return}}var n=d(this).attr("id");var p=d(this).find("a").html();if(l==""){d("#mutidrop_result",g).val(n)}else{d("#mutidrop_result",g).val(l+","+n)}var m='<li class="search-choice"><span>'+p+'</span><span rel="1" class="search-choice-close" del_id="'+n+'" href="javascript:;"></span></li>';d(".drop-choices",g).append(m);d(".drop-choices",g).scrollTop(d(".drop-choices",g)[0].scrollHeight);d("#mutidrop_con",g).hide();d("#mutiDropSearch",g).val("");e._resetList();d(".search-field",g).hide();e._event("select",d(this).attr("id"))});g.on("click","span.search-choice-close",function(n){var m=d(this).attr("del_id");var l=d("#mutidrop_result",g).val();l=l.replace(m+",","").replace(","+m,"").replace(m,"");d("#mutidrop_result",g).val(l);d(this).parent().remove();d("#"+m,g).show();if(l==""){d(".search-field",g).show()}e._event("delete",m);n.stopPropagation()});g.on("click",".dropdown-toggle",function(l){d("#mutidrop_con",g).show();d("ul.dropdown-menu",g).show()});g.on("keyup","#mutiDropSearch",function(o){var l=d.trim(d(this).val()),n=g.find("span.search-choice-close"),m="";d.each(n,function(p,q){m+=d(q).attr("del_id")+","});if(l==""){d(this).val("");e._resetList();return false}d.each(f.nowData,function(p,q){if(q.name.indexOf(l)>=0&&m.indexOf(q[k.fid])<0){d("#"+q[k.fid],g).show()}else{d("#"+q[k.fid],g).hide()}})});g.on("keydown","#mutiDropSearch",function(l){if(l.keyCode=="13"){k.para[k.keyword]=d.trim(d(this).val());d("li.nui-drop-li",g).remove();g.mutidrop("reload");return false}});g.on("click","a.ico_search",function(){k.para[k.keyword]=d.trim(g.find("#mutiDropSearch").val());d("li.nui-drop-li",g).remove();g.mutidrop("reload");e._appending=false;e._isLastPage=false;return false});this._appending=false;this._isLastPage=false;g.find("ul.dropdown-menu").on("scroll",function(l){var m=e.options;if(this.clientHeight+this.scrollTop>=this.scrollHeight){if(e._appending||e._isLastPage){return false}e._appending=true;e._currPage++;m.para.curr_page=e._currPage;a.cmd(m.data,m.para,function(n){if((d.isArray(n.rows)&&n.rows.length===0)||d.isEmptyObject(n.rows)){e._isLastPage=true;return}d(".dropdown-menu",g).append(e._getList(n.rows));e._data.nowData=i(e._data.nowData,n.rows);e._appending=false},function(){e._appending=false},false)}});function i(l,m){return d.isArray(m)&&d.isArray(l)?l.concat(m):d.extend(l,m)}this.reload()},_resetList:function(){var f=this,i=f.$element,j=f.options,h=i.find("span.search-choice-close"),e=i.find("li.nui-drop-li"),g="";d.each(h,function(k,l){g+=d(l).attr("del_id")+","});d.each(e,function(k,l){var m=l.id;if(g.indexOf(m)>=0){d("#"+m,i).hide()}else{d("#"+m,i).show()}})},reload:function(f){var g=this,h=this.options,e=h.para;e.curr_page=this._currPage=1;if(typeof h.data=="string"&&h.data!=""){a.cmd(h.data,e,function(i){g._getBody(i);h.callBack(i.rows)})}else{if(typeof h.data=="object"&&!d.isEmptyObject(h.data)){g._getBody(h.data);h.callBack(h.data)}}},settext:function(f){var e=this.$element;d(".dropdown-toggle",e).find("div").html(f)},_event:function(i,l){var f=this,j=this._data.nowData,m=f.options.fid;var g=function(n){var e="";d.each(n,function(o,p){if(e){return}if(p[m]==l){e=p}});return e};var h=g(j);if(h){var k=d.Event(i);f.$element.trigger(k,h)}f._resetList()},_getBody:function(e){this._data.nowData=e.rows;var g="",h=this.$element,i=this.options,f;f=d("#mutidrop_result",h).val();d.each(this._data.nowData,function(j,k){if(f.indexOf(k[i.fid])==-1){g+='<li class="nui-drop-li" id="'+k[i.fid]+'"><a href="javascript:;">'+k.name+"</a></li>"}else{g+='<li class="nui-drop-li hide" id="'+k[i.fid]+'"><a href="javascript:;">'+k.name+"</a></li>"}});d(".dropdown-menu",h).append(g)},_getList:function(h){var e="",f=this.$element,i=this.options,g=0;d.each(h,function(j,k){if(i.isSetDef&&g==0&&d(".dropdown-menu",f).html()==""){d(".dropdown-toggle",f).find("span").html(k.name);d(".dropdown-toggle",f).find("input[name="+i.fid+"]").val(k[i.fid]);e+='<li class="nui-drop-li active" id="'+k[i.fid]+'" title="'+k.name+'"><a href="javascript:;">'+k.name+"</a></li>"}else{e+='<li class="nui-drop-li" id="'+k[i.fid]+'" title="'+k.name+'"><a href="javascript:;">'+k.name+"</a></li>"}g++});return e},setDef:function(e){var g=this.$element,i="",f=[],h=0;d("li.search-choice",g).remove();d("#mutidrop_result",g).val("");d("li.nui-drop-li",g).show();if(!d.isEmptyObject(e)){d(".search-field",g).hide();d.each(e,function(j,k){k=(typeof k==="object"&&typeof(k.name)==="string")?k.name:k;i+='<li class="search-choice"><span>'+k+'</span><span rel="1" class="search-choice-close" del_id="'+j+'" href="javascript:;"></span></li>';d("#"+j,g).hide();f[h++]=j});d(".drop-choices",g).append(i);d("#mutidrop_result",g).val(f.join())}else{d(".search-field",g).attr("style","display: list-item;")}},setByIdx:function(e){var g=this.$element,f={};d.each(e,function(h,i){d(".dropdown-menu li",g).each(function(j,k){if(d(this).attr("id")==i){f[i]=d(this).find("a").text()}})});this.setDef(f)},setByText:function(e){var g=this.$element,f={};d.each(e,function(h,i){d(".dropdown-menu a",g).each(function(j,l){var k=d(this).text();if(k==i){f[d(this).parent().attr("id")]=k}})});this.setDef(f)},clear:function(e){var f=this.$element;d("li.search-choice",f).remove();d("#mutidrop_result",f).val("");d("li.nui-drop-li",f).show();d("li.search-field",f).attr("style","display: list-item;")},clearAll:function(){var e=this.$element;d("li.search-choice",e).remove();d("#mutidrop_result",e).val("");d("li.nui-drop-li",e).show();d("li.nui-drop-li",e).remove();d("li.search-field",e).attr("style","display: list-item;")}};d.fn.mutidrop=function(g,f,e){return this.each(function(){var k=d(this),j=k.data("mutidrop"),i=(typeof g=="string");if(!j){var h=d.extend({},d.fn.mutidrop.defaults,typeof g=="object"&&g);k.data("mutidrop",(j=new c(this,h)))}else{if(!i){j.options=d.extend({},j.options,g)}}if(i){if(d.isFunction(f)){f(j[g]({}))}else{if(d.isFunction(e)){e(j[g](f))}else{j[g](f)}}}})};d.fn.mutidrop.defaults={data:"",para:{},name:"keyword",fid:"id",keyword:"keyword",search:false,max_slt:0,showLine:7,frmCheck:"",css:"nui-mutidrop",style:{width:"233px;"},callBack:function(e){}}}(jQuery);!function(c){var d=function(f,e){this.options=e;this.$element=c(f).addClass(e.css);this._data={load:false};this._init()};d.prototype={constructor:d,_init:function(){this.reload()},reload:function(e){var f=this,g=this.options;if(typeof g.data=="string"&&g.data!=""){a.cmd(g.data,g.para,function(h){f._getBody(h.rows,h.selected)})}else{f._getBody(g.data,g.selected)}},_getBody:function(i,e){this._data.nowData=i;var h="",g=this.$element,j=this.options,f="selected";c.each(this._data.nowData,function(k,l){f=e===k?"selected":"";h+='<option value="'+k+'" '+f+">"+l+"</option>"});g.html(h);if(j.reloadOk){g.trigger(c.Event("reloadOk"),{})}}};c.fn.dropselect=function(g,f,e){return this.each(function(){var k=c(this),j=k.data("dropselect"),i=(typeof g=="string");if(!j){var h=c.extend({},c.fn.dropselect.defaults,typeof g=="object"&&g);k.data("dropselect",(j=new d(this,h)))}else{if(!i){j.options=c.extend({},j.options,g)}}if(i){if(c.isFunction(f)){f(j[g]({}))}else{if(c.isFunction(e)){e(j[g](f))}else{j[g](f)}}}})};c.fn.dropselect.defaults={data:"",para:{},selected:"",fid:"id",reloadOk:true,width:240}}(jQuery);!function(d){var c=function(f,e){this.options=e;this.$element=d(f).addClass(e.css).attr("_nui_dispose","editor");this.ubb=b("ubb2");if(!window.KindEditor){d.ajax({url:e.editorJsPath?e.editorJsPath:a.cfg.nowjs+"kindeditor/kindeditor.all.js",type:"GET",async:false,dataType:"script"})}this._init()};c.prototype={constructor:c,_init:function(){var e=this,f=e.$element,h=this.options;if(f.attr("id")){h.selector="#"+f.attr("id")}e.dispose();if(h.isSync){var g=this.options.keOpt.afterChange;this.options.keOpt.afterChange=function(){if(typeof g==="function"){g()}if(e.editor&&e.ubb){e.getUbb()}}}if(h.width!=""){this.options.keOpt.width=h.width}if(h.height!=""){this.options.keOpt.height=h.height}if(h.items!=""){this.options.keOpt.items=h.items}e.editor=KindEditor.create(h.selector,this.options.keOpt);e.editor.html(h.data)},dispose:function(){if(self.editor){KindEditor.remove(this.options.selector)}},exec:function(f,e){if(this.editor){return this.editor[f](e)}else{return""}},getUbb:function(){var e=this,f=e.$element;f.val(e.editor.html())},setData:function(f){var e=this,g=this.options;g.data=f;e.editor.html(f)},getData:function(){var e=this;return e.editor.html()}};d.fn.editor=function(g,f,e){return this.each(function(){var k=d(this),j=k.data("editor"),i=(typeof g=="string");if(!j){var h=d.extend({},d.fn.editor.defaults,typeof g=="object"&&g);k.data("editor",(j=new c(this,h)))}else{if(!i){j.options=d.extend({},j.options,typeof g=="object"&&g);j._init()}}if(i){if(d.isFunction(f)){if(j[g]){f(j[g]({}))}else{f(j.exec(g))}}else{if(d.isFunction(e)){if(j[g]){e(j[g](f))}else{e(j.exec(g,f))}}else{if(j[g]){j[g](f)}else{j.exec(g,f)}}}}})};d.fn.editor.defaults={keOpt:{minWidth:300,resizeType:1,allowPreviewEmoticons:false,allowImageUpload:false,themesPath:a.cfg.nowjs+"kindeditor/themes/",items:["fontname","fontsize","|","forecolor","hilitecolor","bold","italic","underline","removeformat","|","justifyleft","justifycenter","justifyright","|","image","link"]},data:"",css:"nui-editor",isSync:true,items:"",width:"500",height:"300"}}(jQuery);!function(e){var c=function(g,f){this.options=f;this.$element=e(g).addClass(f.css);this._data={load:false};this._init()};c.prototype={constructor:c,_init:function(){var f=this,g=this.$element;g.on("click","a",function(){var h=e(this),j=h.attr("_id");if(h.parent().hasClass("active")){f._event("select",f._getRow(j))}else{e(".active",g).removeClass("active");h.parent().addClass("active");var i=f._getRow(j);f._event("select",i);f._event("change",i)}});this.reload()},reload:function(){var f=this,g=this.options;f._getBody(g.data)},_getBody:function(h){this._data.nowData=h;var f="",g=this.$element;f+="<ul>";e.each(this._data.nowData,function(i,j){f+='<li class="'+(i==0?"active":"")+'"><a _id="'+j.id+'" href="#">'+j.text+"</a><b></b></li>"});f+="</ul>";g.html(f)},_event:function(g,i){var f=this,h=e.Event(g);f.$element.trigger(h,i)},_getRow:function(h){var g=this._data.nowData;for(var f=0;f<g.length;f++){if(g[f].id==h){return g[f]}}return null}};var d=function(g,f){this.options=f;this.$element=e(g).addClass(f.css);this._data={load:false};this._init()};d.prototype={constructor:d,_init:function(){var f=this,g=this.$element;g.on("click","li",function(){var h=e(this),j=h.attr("_id");if(h.hasClass("active")){f._event("select",f._getRow(j))}else{e(".active",g).removeClass("active");h.addClass("active");f._setline();var i=f._getRow(j);f._event("select",i);f._event("change",i)}});this.reload()},reload:function(){var f=this,g=this.options;f._getBody(g.data)},_getBody:function(i){this._data.nowData=i;var f=this,g="",h=this.$element;g+='<ul class="tabbar tabbar-pills ">';e.each(this._data.nowData,function(j,k){g+='<li _id="'+k.id+'" class="'+(j==0?"active":"")+'"><span>'+k.text+"</span></li>"});g+="</ul><br/>";g+='<div class="line-sel" style="margin-left:0px;width:0px;"></div>';g+='<div class="line"></div>';h.html(g);this._inipos=e(".line",h).position();f._setline()},_setline:function(){var i=this.$element,k=e(".active",i),j=k.position(),h=k.width(),g=h*parseInt(this._data.nowData.length),f=e(".line",i).position().left;e(".line-sel",i).css({"margin-left":j.left-f,width:h});e(".line",i).css({width:g})},_event:function(g,i){var f=this,h=e.Event(g);f.$element.trigger(h,i)},_getRow:function(h){var g=this._data.nowData;for(var f=0;f<g.length;f++){if(g[f].id==h){return g[f]}}return null}};e.fn.tabbar=function(h,g,f){return this.each(function(){var l=e(this),k=l.data("tabbar"),j=(typeof h=="string");if(!k){var i=e.extend({},e.fn.tabbar.defaults,typeof h=="object"&&h);if(i.kind=="tabbar"){l.data("tabbar",(k=new d(this,i)))}else{l.data("tabbar",(k=new c(this,i)))}}else{if(!j){k.options=e.extend({},k.options,h)}}if(j){if(e.isFunction(g)){g(k[h]({}))}else{if(e.isFunction(f)){f(k[h](g))}else{k[h](g)}}}})};e.fn.tabbar.defaults={data:[],kind:"tabbar",css:"tabbar"}}(jQuery);!function(c){var d=function(f,e){this.options=e;this.$element=c(f).addClass(e.css);this._data={load:false}};d.prototype={constructor:d,_init:function(){var e=this,g=this.options,f=this.$element;f.on("click","div",function(){var i=c(this).find("i");if(g.quickToId){c("#"+g.quickToId).quickto("set",c(this).attr("_id"))}if(g.closeOthers&&i.hasClass("icon-chevron-right")){c(this.parentNode).find("ul").hide();c("div > i",f).removeClass("icon-chevron-down").addClass("icon-chevron-right")}e._selDiv(this);c("div",f).removeClass("active");c(this).addClass("active");var h=c(this).index(".main-left-ul div");f.find("div").removeClass("bor-b-f7f7");f.find("div").eq(h-1).addClass("bor-b-f7f7")});f.on("click","li",function(){if(g.quickToId){c("#"+g.quickToId).quickto("set",c(this).attr("_id"))}e._selLi(this)});this.reload();c(window).on("resize",function(){var h=f.parent().parent().height();f.parent().height(h)}).trigger("resize")},_selDiv:function(k){var e=this,g=c(k),j=g.attr("_id"),i=g.attr("child"),f=this.$element;if(i==1){var h=g.find("i");if(h.hasClass("icon-chevron-right")){h.removeClass("icon-chevron-right").addClass("icon-chevron-down");g.next().show()}else{h.removeClass("icon-chevron-down").addClass("icon-chevron-right");g.next().hide()}}else{c("li.active",f).removeClass("active");c("div > span").removeClass("nochild");g.addClass("nochild");e._event("select",e._getRow(j))}},_selLi:function(e){var g=this,i=c(e),f=i.parent().prev(),k=i.attr("_id"),h=this.$element;var j=f.find("i");if(j.hasClass("icon-chevron-right")){j.removeClass("icon-chevron-right").addClass("icon-chevron-down");f.next().show()}c("li.active",h).removeClass("active");i.addClass("active");c("div.active",h).removeClass("active");i.closest("ul").prev("div:first").addClass("active");c("div",h).removeClass("nochild");g._event("select",g._getRow(k))},select:function(h){var e=this,f=this.$element,g=false;c("div",f).removeClass("active");c("div",f).each(function(j,k){if(h==c(this).attr("_id")){g=true;e._selDiv(k);c(this).addClass("active");return false}});if(!g){c("li",f).each(function(k,j){if(h==c(this).attr("_id")){e._selLi(j);return false}})}},reload:function(){var f=this,g=this.options,e=g.para;if(typeof g.data=="string"&&g.data!=""){a.cmd(g.data,e,function(h){f._getBody(h.rows);f._event("load",h.rows);if(g.quickToId){c("#"+g.quickToId).quickto({data:h.rows})}})}else{f._getBody(g.data);f._event("load",g.data);if(g.quickToId){c("#"+g.quickToId).quickto({data:g.data})}}},_getBody:function(i){this._data.nowData=i;var f="",g=this.$element,j=this.options,e=i.length,h="";if(e>0){c.each(this._data.nowData,function(k,l){f+='<div _id="'+l.id+'" child="'+(l._child?1:0)+'" class="_menu_'+l.id+'">';if(l._child){if((k==0&&j.firstOpen)||j.open){f+='<i class="icon-chevron-down"></i>'}else{f+='<i class="icon-chevron-right"></i>'}}else{f+="<i></i>"}f+="<span>"+l.text+"</span>";f+="</div>";if(l._child){h=j.css}if((k==0&&j.firstOpen)||j.open){f+='<ul class="nav nav-list '+h+'">'}else{f+='<ul class="nav nav-list '+h+'" style="display:none;">'}if(l._child){c.each(l._child,function(n,m){if(m._child){f+='<div _id="'+m.id+'" child="'+(m._child?1:0)+'">';f+='<i class="icon-chevron-right"></i>';f+="<span>"+m.text+"</span>";f+="</div>";f+='<ul class="nav nav-list" style="display:none;">';c.each(m._child,function(p,o){f+='<li _id="'+o.id+'">';f+='<a href="javascript:;">'+o.text+"</a>";f+="</li>"});f+="</ul>"}else{f+='<li _id="'+m.id+'">';f+='<a href="javascript:;">'+m.text+"</a>";f+="</li>"}})}f+="</ul>";if(k<e-1){f+="<hr/>"}})}g.html(f)},_event:function(g,i){var f=this,h=c.Event(g);f.$element.trigger(h,i)},_getRow:function(g){var f=this._data.nowData;var e=function(k){var h="";for(var j=0;j<k.length;j++){if(k[j].id==g){h=k[j];break}else{if(k[j]._child){h=e(k[j]._child);if(h){break}}}}return h};return e(f)}};c.fn.menulist=function(g,f,e){return this.each(function(){var k=c(this),j=k.data("menulist"),i=(typeof g=="string");if(!j){var h=c.extend({},c.fn.menulist.defaults,typeof g=="object"&&g);k.data("menulist",(j=new d(this,h)));j._init()}else{if(!i){j.options=c.extend({},j.options,g)}}if(i){if(c.isFunction(f)){f(j[g]({}))}else{if(c.isFunction(e)){e(j[g](f))}else{j[g](f)}}}})};c.fn.menulist.defaults={data:[],para:{},open:false,firstOpen:true,quickToId:"",css:"nui-menulist",closeOthers:false}}(jQuery);!function(c){var d=function(f,e){this.options=e;this.$element=c(f).addClass(e.css);this._init()};d.prototype={constructor:d,_init:function(){this.reload()},reload:function(){var f=this,g=f.options,e=g.para;if(typeof g.data=="string"&&g.data!=""){a.cmd(g.data,e,function(h){g.retData=h.rows})}else{g.retData=g.data}},set:function(j){var f=this,g=f.$element,i=f.options,e=false,h="您当前的位置：";c.each(i.retData,function(k,l){if(!e){if(j==l.id){if(typeof(l.mdl)=="undefined"){h+=l.text}else{h+='<a href="javascript:;" class="_quick-to-single" _qtid="'+l.id+'">'+l.text+"</a>"}e=true}else{if(l._child){c.each(l._child,function(n,m){if(!e){if(j==m.id){if(typeof(l.mdl)=="undefined"){h+=l.text}else{h+='<a href="javascript:;" class="_quick-to-single" _qtid="'+l.id+'">'+l.text+"</a>"}if(typeof(m.mdl)=="undefined"){h+=" > "+m.text}else{h+=' > <a href="javascript:;" class="_quick-to-single" _qtid="'+m.id+'">'+m.text+"</a>"}e=true}else{if(m._child){c.each(m._child,function(o,p){if(j==p.id){if(typeof(l.mdl)=="undefined"){h+=l.text}else{h+='<a href="javascript:;" class="_quick-to-single" _qtid="'+l.id+'">'+l.text+"</a>"}if(typeof(m.mdl)=="undefined"){h+=" > "+m.text}else{h+=' > <a href="javascript:;" class="_quick-to-single" _qtid="'+m.id+'">'+m.text+"</a>"}if(typeof(p.mdl)=="undefined"){h+=" > "+p.text}else{h+=' > <a href="javascript:;" class="_quick-to-single" _qtid="'+p.id+'">'+p.text+"</a>"}e=true}})}}}})}}}});g.html(h);c("a._quick-to-single",g).on("click",function(k){c("body").find("li[_id="+c(this).attr("_qtid")+"]").click();c("body").find("div[_id="+c(this).attr("_qtid")+"]").click()})},add:function(j){var e=this,g=e.$element,l="",f="",i,k;if(typeof(j)=="string"){f=j}else{f=j.text;i=j.mdl;k=j.menu}l=g.html();if(l.indexOf(f)==-1){if(typeof(j)=="string"){l+=" > "+f}else{l+=' > <a href="javascript:;" mdl="'+i+'" menu="'+k+'" class="_quick_to_nqy">'+f+"</a>"}g.html(l)}else{var h=l.split(" &gt; ");if(h[h.length-1].indexOf(f)==-1){g.html(l.replace(" &gt; "+h[h.length-1],""))}}c("a._quick-to-single",g).on("click",function(m){c("body").find("li[_id="+c(this).attr("_qtid")+"]").click();c("body").find("div[_id="+c(this).attr("_qtid")+"]").click()})}};c.fn.quickto=function(g,f,e){return this.each(function(){var k=c(this),j=k.data("quickto"),i=(typeof g=="string");if(!j){var h=c.extend({},c.fn.quickto.defaults,typeof g=="object"&&g);k.data("quickto",(j=new d(this,h)))}else{if(!i){j.options=c.extend({},j.options,g)}}if(i){if(c.isFunction(f)){f(j[g]({}))}else{if(c.isFunction(e)){e(j[g](f))}else{j[g](f)}}}})};c.fn.quickto.defaults={data:"",para:{},id:"",css:"quick-to"}}(jQuery);!function(d){var c=function(f,e){this.options=e;this.$element=d(f).addClass(e.css);this.player=null;if(!window.Player){d.ajax({url:e.jsPath?e.jsPath:a.cfg.nowjs+"flowplayer.min.js",type:"GET",async:false,dataType:"script"})}this._init()};c.prototype={constructor:c,_init:function(){var f=this,g=f.$element,h=this.options;if(g.attr("id")){h.id=g.attr("id")}if(h.url!=undefined){h.clip.url=h.url;h.clip.provider="nginx"}var e={nginx:{url:a.cfg.nowjs+"flowplayer.pseudostreaming-3.2.12.swf"}};if(h.uncontrols){e.controls=null}f.player=$f(h.id,h.swfPath?h.swfPath:a.cfg.nowjs+"flowplayer.swf",{clip:h.clip,screen:h.screen,canvas:h.canvas,plugins:e})},getPlayer:function(){var e=this;return e.player}};d.fn.player=function(g,f,e){return this.each(function(){var k=d(this),j=(typeof g=="string"),i=k.data("player");if(j){if(d.isFunction(f)){f(i[g]({}))}else{if(d.isFunction(e)){e(i[g](f))}else{i[g](f)}}}else{if(!i){var h=d.extend({},d.fn.player.defaults,typeof g=="object"&&g);k.data("player",(i=new c(this,h)))}else{i.options=d.extend({},i.options,g);i._init()}}})};d.fn.player.defaults={clip:{url:"",autoPlay:true,autoBuffering:true,accelerated:true},screen:{top:10,left:"50pct"},canvas:{backgroundColor:"transparent"},uncontrols:false,css:"nui-player"}}(jQuery);!function(d){var c=function(f,e){this.options=e;this.$element=d(f).addClass(e.css);if(!window.FlexPaper){d.ajax({url:e.jsPath?e.jsPath:a.cfg.nowjs+"flexpaper.min.js",type:"GET",async:false,dataType:"script"})}this._init()};c.prototype={constructor:c,_init:function(){var e=this,f=e.$element,g=this.options;if(g.url!=undefined){g.config.SWFFile=g.url}if(g.startPage!=undefined){g.config.StartAtPage=g.startPage}f.FlexPaperViewer({config:g.config})}};d.fn.flexPaper=function(g,f,e){return this.each(function(){var k=d(this),j=(typeof g=="string"),i=k.data("flexPaper");if(j){if(d.isFunction(f)){f(i[g]({}))}else{if(d.isFunction(e)){e(i[g](f))}else{i[g](f)}}}else{if(!i){var h=d.extend({},d.fn.flexPaper.defaults,typeof g=="object"&&g);k.data("flexPaper",(i=new c(this,h)))}else{i.options=d.extend({},i.options,g);i._init()}}})};d.fn.flexPaper.defaults={css:"nui-flexpaper",config:{Scale:0.6,ZoomTransition:"easeOut",ZoomTime:0.5,ZoomInterval:0.2,FitPageOnLoad:true,FitWidthOnLoad:true,FullScreenAsMaxWindow:false,ProgressiveLoading:false,MinZoomSize:0.2,MaxZoomSize:5,SearchMatchAll:false,InitViewMode:"Portrait",RenderingOrder:"flash,html",StartAtPage:"",ViewModeToolsVisible:true,ZoomToolsVisible:true,NavToolsVisible:true,CursorToolsVisible:true,SearchToolsVisible:true,WMode:"Opaque",localeChain:"en_US",onCurrentPageChanged:function(e){console.log(e)}}}}(jQuery);!function(d){var c=function(g,f){this.options=f;this.$element=d(g).addClass(f.css);self.chart=null;if(!window.FlexPaper){d.ajax({url:f.jsPath?f.jsPath:a.cfg.nowjs+"FusionCharts.min.js",type:"GET",async:false,dataType:"script"})}this._init()};var e={line:"FCF_Line.swf",column3D:"Column3D.swf",pie3D:"Pie3D.swf",msColumn3D:"MSColumn3D.swf"};c.prototype={constructor:c,_init:function(){var g=this,h=g.$element,i=this.options,f="";if(h.attr("id")){i.id=h.attr("id")}f=a.cfg.nowjs+e[i.type];g.chart=new FusionCharts(f+"?ChartNoDataText="+i.ChartNoDataText,i.id,i.width,i.height);g.chart.params.wmode="transparent";if(typeof i.data=="string"&&i.data!=""&&i.data.substr(0,1)!="<"){a.cmd(i.data,i.para,function(j){g.chart.setDataXML(j.data);g.chart.render(i.id);h.trigger(d.Event("reloadOk"),j)})}else{g.chart.setDataXML(i.data);g.chart.render(i.id);h.trigger(d.Event("reloadOk"),i)}},getChart:function(){var f=this;return f.chart}};d.fn.chart=function(h,g,f){return this.each(function(){var l=d(this),k=(typeof h=="string"),j=l.data("chart");if(k){if(d.isFunction(g)){g(j[h]({}))}else{if(d.isFunction(f)){f(j[h](g))}else{j[h](g)}}}else{if(!j){var i=d.extend({},d.fn.chart.defaults,typeof h=="object"&&h);l.data("chart",(j=new c(this,i)))}else{j.options=d.extend({},j.options,h);j._init()}}})};d.fn.chart.defaults={width:850,height:450,type:"line",data:"",para:{},css:"nui-chart",ChartNoDataText:"暂无数据"}}(jQuery);!function(e){var d={};var c=function(g,f){this.options=f;this.$element=e(g).addClass(f.css);if(this.$element.attr("id")){d[this.$element.attr("id")]=this}self.Camera=null;this._init()};c.prototype={constructor:c,_init:function(){var f=this,g=f.$element,h=this.options;if(g.attr("id")){h.id=g.attr("id")}f.Camera=g.flash({bgcolor:"#869ca7",width:h.width,height:h.height,allowscriptaccess:"sameDomain",flashvars:{id:h.id,width:h.width,height:h.height},src:a.cfg.nowjs+"fs_camera.swf?_="+new Date()}).data("flash").getSwf()},getCamera:function(){var f=this;return f.Camera},takePhoto:function(){var f=this.Camera.takePhoto();return f},dispose:function(){this.Camera=null},cameraReady:function(f){this.$element.trigger(e.Event("cameraReady"),f)},cameraStatusChange:function(f){this.$element.trigger(e.Event("cameraStatusChange"),f)}};e._cameraReady=function(h,f){if(d[h]!=undefined){var g=d[h];g.cameraReady(f)}};e._cameraStatusChange=function(h,f){if(d[h]!=undefined){var g=d[h];g.cameraStatusChange(f)}};e.fn.camera=function(h,g,f){return this.each(function(){var l=e(this),k=(typeof h=="string"),j=l.data("camera");if(k){if(e.isFunction(g)){g(j[h]({}))}else{if(e.isFunction(f)){f(j[h](g))}else{j[h](g)}}}else{if(!j){var i=e.extend({},e.fn.camera.defaults,typeof h=="object"&&h);l.data("camera",(j=new c(this,i)))}else{j.options=e.extend({},j.options,h);j._init()}}})};e.fn.camera.defaults={width:265,height:300,css:"nui-camera"}}(jQuery);!function(f){var d=function(h,g){this.options=g;this.$element=f(h).addClass(g.css).html('<ul class="nav nav-list parent"><ul>');this._data={};this._select=null;this._init()};d.prototype={constructor:d,_init:function(){this.expandPara();var g=this,i=g.$element,j=this.options;var h="";h+='<div class="modal-header">';h+='<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>';if(j.title){h+="<h3>"+j.title+"</h3>"}h+="</div>";h+='<div class="modal-body-middle"><div class="container-fluid"><div class="row-fluid pull-left">';if(!f.isEmptyObject(j.tree)){h+='<div class="span3 well"><div id="left_tree"></div></div>';h+='<div class="span8">'}else{h+='<div class="span12">'}h+='	<div id="right_repeat" class="right-repeat well"></div>';h+="	<div><h4>以下为选中内容：</h4></div>";h+='	<div class="right-slt well">';h+='		<div id="right_foot_slt" ></div>';h+="	</div>";h+="</div></div></div></div>";h+='<div class="modal-footer-bottom"><div class="content"><button class="btn btn-primary mutilslt_submit">保存</button></div></div>';i.addClass("modal_multi hide fade").attr({role:"dialog","aria-hidden":"true"}).html(h).modal({backdrop:"static",keyboard:false,show:true});this.reload()},reload:function(){var h=this,i=this.$element,j=this.options,g=j.para;j.sltData=[];if(!f.isEmptyObject(j.tree)){f("#left_tree",i).tree(j.tree).on("select",function(l,k){if(j.tree._deep==f(this).find("a[_id="+k[j.tree.fid]+"]").attr("_deep")){j.repeat.para[j.tree.fid]=f(this).find("a[_id="+k[j.tree.fid]+"]").attr("_id");f("#right_repeat",i).repeat({nowPage:1,para:j.repeat.para,isSub:true}).repeat("reload")}})}if(!f.isEmptyObject(j.setDef)&&j.setDef.data!=""){a.cmd(j.setDef.data,j.setDef.para,function(k){if(f.isEmptyObject(k.rows)){j.repeat_dst.para[j.repeat_dst.fid]=""}else{f.each(k.rows,function(l,m){j.sltData=h.dealData(j.sltData,m.stu_id,null)});j.repeat_dst.para[j.repeat_dst.fid]=j.sltData}f("#right_foot_slt",i).repeat(j.repeat_dst);j.repeat.isSub=true;f("#right_repeat",i).repeat(j.repeat)})}else{if(f.isEmptyObject(j.sltData)){j.repeat_dst.para[j.repeat_dst.fid]=""}else{j.repeat_dst.para[j.repeat_dst.fid]=j.sltData}f("#right_foot_slt",i).repeat(j.repeat_dst);j.repeat.isSub=true;f("#right_repeat",i).repeat(j.repeat)}f("#right_repeat",i).on("reloadOk",function(l,k){f.each(k.rows,function(m,n){if(f.inArray(n[j.repeat.fid],j.sltData)>=0){f("#sltdata_"+n[j.repeat.fid]).css({color:"#3399FF"})}else{f("#sltdata_"+n[j.repeat.fid]).css({color:""})}})});i.on("click",".repeat-model-single",function(){var k=f(this).attr("id"),l=k.replace("sltdata_","");if(f.inArray(l,j.sltData)>=0){j.sltData=h.dealData(j.sltData,null,l);f(this).css({color:""})}else{j.sltData=h.dealData(j.sltData,l,null);f(this).css({color:"#999999"})}if(f.isEmptyObject(j.sltData)){j.repeat_dst.para[j.repeat_dst.fid]=""}else{j.repeat_dst.para[j.repeat_dst.fid]=j.sltData}f("#right_foot_slt",i).repeat({nowPage:1,para:j.repeat_dst.para}).repeat("reload");if(j.repeat_dst.col==1&&j.repeat_dst.multiCol){f(".right-slt .repeat-item",i).addClass("item")}});i.on("click",".slt-close",function(){var k=f(this).attr(j.repeat_dst.fid);f("#sltdata_"+k,i).css({color:""});j.sltData=h.dealData(j.sltData,null,k);if(f.isEmptyObject(j.sltData)){j.repeat_dst.para[j.repeat_dst.fid]=""}else{j.repeat_dst.para[j.repeat_dst.fid]=j.sltData}f(this).parent().remove()});f(".mutilslt_submit",i).click(function(){j.submit.para[j.submit.fid]=j.sltData;a.cmd(j.submit.data,j.submit.para,j.submit.okFun)})},dealData:function(i,h,g){if(h){if(f.inArray(h,i)==-1){i.push(h+"")}}else{i.splice(f.inArray(g,i),1)}return i},expandPara:function(){this.options.repeat_dst=f.extend({},{multiCol:true},this.options.repeat_dst);var g=f.extend({},{defaultType:"text"},this.options.repeat),j=f.extend({},{defaultType:"text"},this.options.repeat_dst);var i=g.defaultType,h=j.defaultType;if(i&&i.length>0){switch(i){case"text":this.options.repeat=f.extend({},c.text,this.options.repeat);break;default:break}}if(h&&h.length>0){switch(h){case"text":this.options.repeat_dst=f.extend({},e.text,this.options.repeat_dst);break;default:break}}}};f.fn.multislt=function(i,h,g){return this.each(function(){var m=f(this),l=m.data("multislt"),k=(typeof i=="string");if(!l){var j=f.extend({},f.fn.multislt.defaults,typeof i=="object"&&i);m.data("multislt",(l=new d(this,j)))}else{if(!k){l.options=f.extend({},l.options,typeof i=="object"&&i);l._init()}}if(k){if(f.isFunction(h)){h(l[i]({}))}else{if(f.isFunction(g)){g(l[i](h))}else{return l[i](h)}}}})};f.fn.multislt.defaults={title:"",tree:{},repeat:{},submit:{},setDef:{data:"",para:{},fid:""},repeat_dst:{},sltData:[]};var c={text:{col:1,row:5,fid:"link_id",render:function(g){return"<span>"+g.name+"</span>"},para:{}}};var e={text:{col:1,row:5,fid:"link_id",render:function(g){return'<span class="slt-text">'+g.name+'</span><a href="javascript:;" class="slt-close slt-del" link_id="'+g.link_id+'">&times;</a>'},para:{},showpage:false}}}(jQuery);void function(d){function c(g){var h=[];var f={fill:"#b0d0ec",stroke:"#ddd","stroke-width":1.5,"stroke-linejoin":"round"};h["澳门"]={name:"澳门",code:"901200",path:g.path("M413.032,414.183l-0.96,1.752c0,0,0.889,0.883,1.98,1.086s1.995-0.493,1.995-0.493L413.032,414.183z").attr(f)};h["香港"]={name:"香港",code:"901100",path:g.path("M417.745,409.005l3.394,0.773l3.453-2.558l1.666,4.582c0,0-5.521,2.673-3.691,1.785c1.828-0.884-4.641-0.355-4.641-0.355l-0.834-3.454L417.745,409.005z").attr(f)};h["台湾"]={name:"台湾",code:"901000",path:g.path("M505.438,371.203l-3.217,19.169l-1.664,6.07v5.123l-1.43,1.427l-3.451-5.119l-3.693-2.858l-3.215-8.571c0,0-0.451-5.62,0.357-7.74c0.809-2.118,5.356-14.05,5.356-14.05l6.313-5.357l4.051,1.904L505.438,371.203z").attr(f)};h["广东"]={name:"广东",code:"440000",path:g.path("M391.37,382.632l2.265-1.666v-3.45l1.188-1.072l2.859,0.235l4.879,2.264l0.834-1.667l-1.188-2.025l0.354-1.427l3.098-2.619l5.478,1.427l3.096-1.905l2.264,2.265l5.478-1.429l1.07,2.021l-1.666,2.264l-2.859,4.288v1.069l1.67,1.192l11.43-4.525l4.048,2.264l1.19-1.191l-1.19-2.499l0.28-1.663l7.459,1.663l1.431,1.072l2.022-0.24l3.094,3.929l3.451,7.502l-2.26,1.667l-2.023,3.689l-1.786,0.596l-1.664,3.455l-5.716,2.854l-2.266-1.188l-1.426,2.382v0.833h-1.787h-3.098l-2.857,2.023l-2.021-1.188l-2.5,1.663l-6.314,2.619l-5.121-4.05l-0.354,3.217l1.788,4.882l-4.646,1.904l-2.498,3.452l-4.887,1.191l-2.617,1.073h-5.119c0,0-0.869,2.545-3.453,3.452c-2.584,0.904-9.168,3.213-9.168,3.213l-4.522,3.098l-2.265,2.263l4.287,6.903l-2.856,2.501l-3.451-0.238l-4.053-7.381l0.954-5.238v-2.501l2.854-4.646l3.695-0.831l-0.355-2.501l3.809-1.785l0.476-4.288l6.668-5.119l-0.355-6.905l5.119-6.547l-0.24-2.5l1.666-2.381L391.37,382.632z").attr(f)};h["广西"]={name:"广西",code:"450000",path:g.path("M305.646,387.87l3.688,0.241l4.051-3.694l1.668,1.072l7.737,3.216l1.429-0.835l0.235-2.619l1.433-1.429l10.955-7.145l1.903,2.266l6.668,2.021l3.691-4.883l1.666,1.192h2.619v-1.431l3.453-1.192v-1.069l1.43-1.428l0.832,0.236l3.453-3.451l2.856,0.832l2.857-3.931l1.432,3.099l0.832-0.238l4.525-4.288l1.188,0.24l2.021-1.073l3.693,1.073v4.048l2.856,0.595l-0.832,3.929l-2.623,4.29l-1.188,3.688h1.188l3.101-2.854l2.616,5.713l2.025-1.43h2.26l1.666,5.717l-1.666,2.383l0.24,2.5l-5.119,6.547l0.355,6.905l-6.668,5.12l-0.476,4.285l-3.809,1.787l0.354,2.5l-3.694,0.831l-2.853,4.646l-7.502,1.071l-3.93-2.856l-4.049-1.669l-4.049,4.05l-4.158,0.241l-4.058,0.234c0,0-10.996-6.139-9.168-5.119c1.828,1.021-1.666-4.526-1.666-4.526l2.261-4.646l-2.617-1.902h-3.455l-0.832-0.952l-3.691,0.952l-3.692-2.62l1.432-4.048l2.855-0.235l1.069-0.834l0.957-3.69l-1.192-2.024l-9.765-1.785l-1.668-2.856h-2.854h-2.619l-1.906-3.099L305.646,387.87z").attr(f)};h["海南"]={name:"海南",code:"460000",path:g.path("M385.895,447.523l-5.119,8.93v3.929l-10.238,8.336l-10.598-3.689l-2.025-7.501l0.597-3.454c0,0,8.074-8.075,5.715-5.716c-2.357,2.358,2.025-1.665,2.025-1.665l9.403-1.668l4.289-0.358l1.426-1.666l3.103,0.832L385.895,447.523z").attr(f)};h["云南"]={name:"云南",code:"530000",path:g.path("M313.622,349.296l-0.836-2.858l-2.618-0.954l-4.283,2.622l-2.859-1.432l-0.238-3.688l-1.43-1.79v-1.903l-4.049-0.952l-1.07,1.188l0.599,2.859l-3.217,1.43l-0.834,2.021l0.834,2.5l-7.146,8.336l1.191,9.766l-3.453,2.854l-1.666-1.784l-6.907,4.048l-2.618-1.431c0,0-11.535-22.106-10.002-19.172c1.533,2.938-3.931-2.854-3.931-2.854l-3.213-0.834l-1.432-2.619l1.787-2.859l-2.857-2.263l-3.455,2.859l-3.451,0.598l-2.263-10.363l-0.596-2.499l-3.454,4.286l-1.427,0.831l0.356,6.551l-0.834,1.431h-1.784l-1.43-1.431l-1.667,2.026l1.667,7.381h2.024l1.667,1.19c0,0,0.468,2.396,0.594,4.521c0.125,2.125-0.833,15.719-0.833,15.719l-10.837,9.766l-0.594,3.689l-2.024,1.787l-0.238,1.903l1.669,4.643l-1.431,3.454l0.834,0.478l5.478-1.433l7.738-0.476l-0.834,3.098l1.431,2.857l0.475,4.287l0.955,1.426l4.524,0.243l2.024,1.425l-2.264,2.856l-0.356,3.453l-1.667,4.05l1.068,1.43l2.86,0.238l4.881,1.784l-0.593,1.667l3.212,4.881h4.524l5.716-3.213l1.786,0.952v1.906l0.832,2.856l1.432,1.429l3.092-0.477l1.192,0.834l1.072-1.192v-4.525l-1.906-8.333l1.431-2.5h4.762h1.192l2.62-3.213l6.783,2.261l2.858-2.503l1.431,1.432l2.858-1.786l2.615,2.618h1.073l0.953-1.428l2.261-2.263l1.073,0.833l3.213-0.595l3.099-2.502l2.619-3.811l3.688-0.831l2.023,2.021l1.43-4.048l2.857-0.235l1.069-0.834l0.957-3.691l-1.192-2.023l-9.765-1.785l-1.668-2.857h-2.854h-2.619l-1.906-3.097l0.24-1.665l1.188-6.907l-3.809-3.689l2.859-12.027l-1.908-1.667l-6.309,1.906l-1.431-2.501v-2.856l-1.428-1.43l3.094-4.286l3.453,1.07l1.43-1.429l6.313,0.951l2.856-0.951L313.622,349.296z").attr(f)};h["福建"]={name:"福建",code:"350000",path:g.path("M435.945,374.779c0,0,2.881-12.508,1.742-10.365c-1.137,2.144,1.672-2.62,1.672-2.62l0.83-2.854l2.023-4.286l-1.072-1.668l0.24-3.691l4.881-5.475l-0.357-3.691l3.215-5.478l3.095,0.834l6.311-4.524l1.193-2.26l3.69,0.593l2.025,5.118l1.666,3.454h4.047l2.498-3.215l3.693,3.69l6.454-2.276l-4.069,9.776l-2.385-1.192l-1.666,0.835l-0.238,0.954l2.262,2.501l-0.598,8.929l0.598,2.859l-0.598,0.834l-2.617-0.599l-1.668,1.667l1.191,2.384l-3.214,3.095l0.595,1.189l-3.097,1.665l0.478,2.264l-1.072,1.191h-4.285l-2.264,2.025l-0.357,0.832l2.023,1.428l-2.26,3.452l-2.859,3.691l-1.189-0.356l-3.1,3.216l-3.447-7.502l-3.098-3.929l-2.023,0.24l-1.43-1.072L435.945,374.779z").attr(f)};h["江西"]={name:"江西",code:"360000",path:g.path("M408.279,325.242l3.336,6.549l0.355,3.452l-1.785,3.454l-2.502,2.024l-0.594,6.188l0.832,0.955l1.43-0.596l0.834,0.596v3.927l1.785,4.647l2.026,0.831l0.234,6.789l-1.193,4.642l1.193,2.021l2.266,2.265l5.474-1.429l1.071,2.022l-1.665,2.263l-2.859,4.287v1.07l1.67,1.192l11.43-4.525l4.047,2.263l1.191-1.19l-1.191-2.499l0.281-1.663l1.742-10.365l1.67-2.62l0.832-2.854l2.025-4.286l-1.072-1.668l0.238-3.691l4.881-5.475l-0.355-3.691l3.213-5.478l3.095,0.834l6.311-4.524l1.193-2.263l-4.049-7.501l-2.619-3.69l1.901-1.818l-2.381-2.111H446.5l-2.5-2.855l-4.884,4.762l-1.784-0.835l2.024-3.69l-0.24-1.188l-1.784-0.479l-5.716,3.099l-4.524,1.429l-3.689-0.238c0,0-9.709,9.669-7.979,7.381c1.731-2.287-4.287,1.433-4.287,1.433L408.279,325.242z").attr(f)};h["湖南"]={name:"湖南",code:"430000",path:g.path("M408.279,325.242l-2.619-0.594l-1.188-1.667v-4.05l-1.43-2.026l-2.857,2.86l-1.43,2.023h-1.904l-0.594-3.096l-2.621,0.833l-3.451,2.263l-2.264-1.428c0,0-2.666-2.521-4.525-3.097c-1.857-0.576-13.217-0.832-13.217-0.832l-1.43,1.429l2.62,3.093l-3.096,2.026l-4.883-2.026l-5.117,4.287l-1.787,4.05c0,0-0.19,6.479,0.357,9.405c0.551,2.926,2.5,10.002,2.5,10.002l-5.717,6.31l0.596,0.833l5.121-1.428l1.785,2.263l-1.429,7.144l2.857,5.121l2.856,0.832l2.857-3.931l1.43,3.099l0.834-0.238l4.523-4.288l1.191,0.24l2.021-1.073l3.693,1.073v4.048l2.856,0.595l-0.832,3.929l-2.623,4.29l-1.188,3.688h1.188l3.103-2.854l2.617,5.713l2.021-1.43h2.264l2.263-1.666v-3.45l1.188-1.072l2.859,0.235l4.879,2.264l0.834-1.667l-1.188-2.023l0.354-1.429l3.098-2.619l5.478,1.428l3.096-1.906l-1.193-2.021l1.193-4.642l-0.234-6.789l-2.026-0.831l-1.785-4.647v-3.927l-0.834-0.596l-1.43,0.596l-0.832-0.955l0.594-6.188l2.502-2.024l1.785-3.454l-0.355-3.452L408.279,325.242z").attr(f)};h["贵州"]={name:"贵州",code:"520000",path:g.path("M313.622,349.296l-1.666,4.761l-2.856,0.951l-6.313-0.951l-1.43,1.429l-3.453-1.07l-3.094,4.286l1.428,1.43v2.856l1.431,2.501l6.309-1.906l1.908,1.667l-2.859,12.027l3.81,3.689l-1.188,6.907l3.688,0.238l4.051-3.695l1.668,1.073l7.737,3.216l1.429-0.832l0.235-2.622l1.433-1.429l10.955-7.144l1.903,2.265l6.668,2.021l3.689-4.883l1.668,1.192h2.619v-1.432l3.453-1.189v-1.071l1.43-1.428l0.832,0.237l3.453-3.452l-2.857-5.123l1.429-7.142l-1.785-2.263l-5.121,1.428l-0.596-0.834l5.717-6.309l-2.5-10.001l-3.81,2.855l-3.334-3.45l-3.215-4.29l-0.24-2.619l-2.26-0.477l-2.621,0.834l-4.287-2.024l-2.022,4.883l-3.691,0.239l-2.619,4.049l-1.666-0.834l-2.623,0.834l-3.928-2.266l-3.213,3.69v1.668l6.312,3.453l1.426,2.621c0,0-6.094,2.245-4.523,1.667C322.1,348.955,313.622,349.296,313.622,349.296z").attr(f)};h["浙江"]={name:"浙江",code:"330000",path:g.path("M483.793,336.063l-6.455,2.276l-3.693-3.69l-2.498,3.215h-4.049l-1.666-3.454l-2.023-5.118l-3.692-0.596l-4.047-7.501l-2.619-3.69l1.903-1.818l0.716-0.685c0,0,6.241-8.84,4.286-6.07c-1.954,2.769-0.239-4.882-0.239-4.882l1.43-1.906l3.336-0.594l0.951-1.43l-1.189-2.263l1.666-2.382v-4.524l2.384-1.189l3.928,2.382l4.879,0.835l3.225-3.824l3.998,3.332l-1.744,1.324l-2.021,3.096l-3.217,0.952l-1.074,0.833l3.098,1.666l5.715-2.499l9.406,3.929l0.953,7.979h-3.809l-0.24,2.382l2.024,3.332l-1.784,2.024l2.022,3.214l-3.096,3.69l-1.43-1.787l-4.644,11.788L483.793,336.063z").attr(f)};h["安徽"]={name:"安徽",code:"340000",path:g.path("M423.637,253.208l2.024-0.597l6.312,2.621c0,0,1.768,2.299,2.861,2.856c1.092,0.557,5.118,1.43,5.118,1.43l2.021,1.667l2.858-0.479l0.599,1.072l-0.957,6.074l2.858,1.666l1.189,2.263l4.287,0.831l1.666-2.854l2.621,0.356l1.666,2.265l-0.24,2.021l-5.121,0.596v2.264v1.665l-2.021,2.265l1.43,2.618l4.287,2.856l0.237,3.454l8.572,0.832v4.525l-1.666,2.381l1.191,2.263l-0.951,1.43l-3.338,0.594l-1.428,1.906l0.235,4.882l-4.285,6.072l-0.715,0.683l-2.381-2.111H446.5l-2.498-2.855l-4.884,4.761l-1.786-0.834l2.026-3.69l-0.24-1.188l-1.786-0.479l-5.718,3.099l-5.356-10.241l1.666-3.214l-0.595-1.071l-2.858-0.952l-4.76-2.858l1.903-3.928l2.855-1.43l0.598-3.214l-1.07-5.716l-0.596-0.479l-2.856,2.86c0,0-5.978-4.647-4.287-3.453c1.69,1.192-3.217-4.049-3.217-4.049l3.217-2.261l0.834-4.05l2.021-1.431l-0.354-5.359l1.43-1.188l2.619,1.787l1.664,2.26l3.453-2.26l1.192-1.434l-0.598-2.617l-4.049-2.263L423.637,253.208z").attr(f)};h["上海"]={name:"上海",code:"310000",path:g.path("M484.32,292.485l-3.998-3.332c0,0,0.867-0.375,1.898-2.251c1.031-1.875,1.426-4.286,1.426-4.286l4.287,1.788l2.027,2.854l-1.433,2.024L484.32,292.485z").attr(f)};h["江苏"]={name:"江苏",code:"320000",path:g.path("M483.646,282.616l-1.426,4.286l-1.898,2.251l-3.225,3.824l-4.879-0.835l-3.929-2.383l-2.383,1.19l-8.571-0.832l-0.238-3.454l-4.287-2.856l-1.428-2.618l2.02-2.264v-1.665v-2.267l5.121-0.594l0.24-2.023l-1.666-2.263l-2.621-0.355l-1.666,2.854l-4.287-0.831l-1.188-2.263l-2.857-1.666l0.955-6.074l-0.598-1.072l-2.859,0.479l-2.021-1.667l-5.118-1.429l-2.861-2.857l-6.307-2.621l0.592-2.856l2.5-1.069l4.645,3.927h1.433l4.284-0.476l2.5-2.022l3.453,2.856l1.427-2.62l0.358-1.43l2.857-1.667l0.834-3.45l2.854-0.597l7.148,4.881c0,0,3.365,0.754,5.117,2.025c1.754,1.271,9.766,16.313,9.766,16.313l-0.357,1.666l6.548,3.095l1.784,2.859l3.099,1.429l1.428,2.855l-2.023,0.951l-3.334-1.188h-4.645l-4.287-1.432l-1.666,1.432l3.932,1.188l3.813,1.669L483.646,282.616z").attr(f)};h["湖北"]={name:"湖北",code:"420000",path:g.path("M356.486,329.29l1.787-4.048l5.119-4.287l4.881,2.026l3.096-2.026l-2.621-3.093l1.429-1.433l13.219,0.836l4.525,3.097l2.264,1.425l3.451-2.26l2.619-0.833l0.596,3.093h1.904l1.43-2.021l2.856-2.86l1.431,2.027v4.049l1.19,1.667l2.619,0.594l2.855-2.854l4.287-1.433l7.979-7.381l3.691,0.236l4.522-1.428l-5.358-10.24l1.668-3.214l-0.593-1.071l-2.862-0.952l-4.761-2.858l-2.381-1.427l-3.098,1.427l-3.451-2.854h-4.524l-3.455-1.907l-0.83-2.856l-1.787-1.786l-2.5,1.428L395.421,285c0,0-9.509,0.927-7.146,1.071c2.363,0.146-7.736-1.666-7.736-1.666l-9.407-8.334l-2.619,2.023l-1.188-0.831h-1.907h-8.572l-1.189,1.068l2.619,2.62l2.5,0.593l2.26,0.837l-1.067,1.668l-4.287,2.021l-0.834,3.451l0.834,1.191l0.596,4.288l2.5,0.238l2.619,3.452l1.07,6.548l-0.832,2.262l-1.666-0.594l-4.883,3.812l-8.336,1.429l-2.261,2.263l1.783,2.262l0.24,4.882l2.262,0.598L356.486,329.29z").attr(f)};h["西藏"]={name:"西藏",code:"540000",path:g.path("M152.525,339.529l6.787,0.834l2.265,3.216l1.189,0.477l10.239-1.904l0.594-1.787l2.023-1.07l4.884-4.05l4.285-0.594l3.93-2.501l7.74-4.286l0.832,1.428l5.716,1.904l8.334-4.285l2.618,1.787l-2.379,3.452l0.952,0.833h3.332l0.359,1.427l-2.857,5.121l0.833,0.834h1.666l8.336,2.265l3.691-3.099l5.478,4.289l1.667-2.026l1.43,1.431h1.784l0.834-1.431l-0.356-6.549l1.429-0.835l3.451-4.284l-0.594-16.549l-3.099-8.337l2.265-1.665l-6.548-12.027l-7.979-6.311l-2.26,1.43l0.238,3.692l-6.908,8.931l-11.428-2.384l-0.833-4.286l-7.146-5.716l-15.717-2.498l-6.787-1.188l-2.619-0.241l-5.952-4.883l-12.385-2.857l-8.57-16.551l-0.238-4.642l3.451-1.672v-5.117l2.502-6.311l-2.858-2.858l3.811-3.095l-2.383-1.425h-5.716l-10.238-4.644h-6.549l-5.118,1.43h-5.715l-8.931,4.879l-7.144-0.834l-7.146,2.5l-5.954-1.906l-3.688-3.212l-9.526-1.427l-6.192,4.28l-3.45-1.425l-2.859-2.263l-6.908-1.667l-1.065-1.189l-2.857-0.237l-9.782,5.945l-10.412-1.297l2.428,4.398l2.68,1.995l-0.821,3.842l-0.231,3.758l0.256,2.672l0,0l-0.193,3.208l3.451,3.454l0.239,4.884l-1.072,1.907l-5.119,0.591l-2.621-2.854l-2.619,0.355l-0.476,2.265l1.428,3.688l0.479,2.62v3.333l-0.833,2.381l0.354,1.909l3.336,0.356l1.785,3.094l7.739,6.071v1.906l5.716,6.311l1.902,2.262l1.79,0.595l3.451-3.451l3.096,2.856c0,0,15.395,13.684,13.098,11.193c-2.297-2.491,2.381,5.715,2.381,5.715h2.859l1.667-1.665l1.426,1.428v5.117l7.741,4.287l1.667-0.357l1.191,4.287l6.548,3.81l0.238,2.501l1.188,0.835l5.717-0.24h3.098l4.644,3.457l10.24-0.359l5.476-0.239l1.428,2.265l-1.188,4.883l1.427,1.664l5.715-4.761l7.146-5.239l5.12,0.95L152.525,339.529z").attr(f)};h["青海"]={name:"青海",code:"630000",path:g.path("M153.954,234.989l4.523,1.667l7.742-2.617l-1.193-1.429h-2.021l-0.834-2.259l0.594-2.024l3.692-1.668l2.617-4.286l-7.977-6.548l-0.356-6.906c0,0,2.08-2.545,3.689-2.856c1.609-0.313,26.317-5.119,26.317-5.119l1.783-1.428l3.931,0.594l13.215,3.095l3.93,2.265l5.714,3.451l3.692-0.237l5.714-3.452l7.501,1.188l4.882-2.616l9.999,6.309l5.36-2.023l2.856,6.903l6.907,4.286l5.119,4.527l3.691-1.431l7.146,9.405l1.426,6.071l2.619,3.688l-0.832,7.146l-5.715,4.524l1.073,2.856l-2.265,2.263l-2.856,2.62v4.879l-2.621,2.027l-3.097-0.954l-2.617-2.5l-1.431,2.859l1.787,2.499l4.524,0.594l4.287,4.288h2.618l2.024,2.265l-1.787,4.046v0.239l-3.688-0.479l-2.621,1.905l-1.666-2.856l-4.524,1.785l-1.19,2.264v3.451l-4.524,0.836l-5.715-5.716l-1.787-2.856l-4.524,1.428l-7.738-2.262l-11.67,1.666l-0.952,1.189l-1.071,3.69l-2.263,1.43l0.238,3.692l-6.906,8.931l-11.43-2.383l-0.833-4.285l-7.146-5.718l-15.717-2.498l-6.786-1.19l-2.621-0.238l-5.953-4.883l-12.384-2.857l-8.57-16.551l-0.238-4.642l3.451-1.672v-5.117l2.502-6.313l-2.858-2.856L153.954,234.989z").attr(f)};h["甘肃"]={name:"甘肃",code:"620000",path:g.path("M196.462,200.108l-1.43-16.55l0.836-3.453l4.879-2.262c0,0,5.209-5.03,6.903-5.717c1.696-0.686,10.6-4.285,10.6-4.285l4.285-2.025v-4.047l1.905-2.262l1.788,0.237l7.144,1.192l-0.358,3.095l1.43,4.88l-0.834,7.978l6.072,8.929l3.097,2.026l4.883-3.812h10.237l2.623,0.953l1.429,2.264l-1.193,2.499l-5.714,4.645l0.597,2.261l6.549,4.882h2.618l0.834,1.07l-0.596,2.025l4.05,3.217l9.404,1.429l4.525-1.19l5.718-5.719l6.903,0.598l2.855,4.287l-1.664,3.929l0.475,2.382l-3.688,2.263l-1.668,2.024l0.596,4.763l6.545,4.646l2.875-0.653l7.725,9.458l1.668,7.145l-0.834,3.451l5.357,2.859v2.26l4.883,1.192h1.426v-4.05l3.693-0.595l0.951-4.763l-2.619-2.026l-2.025-2.021l0.834-9.166l2.023-1.071l3.453,1.43l1.432-0.598l0.834,1.667l9.166,4.639l4.883,3.1l0.832,2.856l-2.619,3.691l1.431,4.285l-0.834,2.021l-6.785,0.6l-1.433,0.833l0.478,1.191v1.903l-5.355,0.594l-2.856-1.428h-3.691l-0.596,0.834l0.596,2.024l-1.789,2.023l-0.592,2.262l3.449,2.857l-2.498,5.119l1.072,2.622l-0.238,1.188h-4.051l-2.854,1.435l2.26,3.091l-1.428,4.051l-4.287,1.07l0.357,2.023l-1.189,1.428l-7.383-0.596l-2.854-2.021l-0.601-4.525l-1.664-1.669l-2.62,1.669l-4.523-4.521l-3.455-2.385l-0.354-3.335l-1.074-2.619h-1.787l-7.144,3.096l0.356,3.454h-2.618l-4.287-4.288l-4.525-0.593l-1.786-2.499l1.431-2.86l2.617,2.5l3.097,0.954l2.62-2.025v-4.881l2.857-2.62l2.265-2.263l-1.073-2.856l5.716-4.522l0.832-7.147l-2.619-3.688l-1.429-6.071l-7.144-9.405l-3.692,1.431l-5.118-4.524l-6.907-4.287l-2.856-6.905l-5.359,2.023l-9.999-6.309l-4.883,2.616l-7.501-1.188l-5.714,3.452l-3.691,0.237l-5.715-3.451l-3.93-2.265L196.462,200.108z").attr(f)};h["新疆"]={name:"新疆",code:"650000",path:g.path("M153.889,69.508l2.327-0.014l-1.428,4.525l2.025,2.38l0.236,1.666l4.525,4.524l1.191,3.453l5.953,0.357l2.62,2.265h1.429l3.453,7.379l3.451,8.931l-1.784,5.357l0.358,2.025l-3.215,5.477l0.833,4.286l11.192,4.763l12.025,1.788l12.503,8.571l4.049,1.429l0.237,2.261l2.619,5.478l2.619,7.146l3.333,5.953l-1.903,2.263v4.047l-4.286,2.026l-10.596,4.284l-6.907,5.719l-4.881,2.26l-0.834,3.453l1.43,16.55l-3.931-0.596l-1.783,1.431l-26.315,5.119l-3.691,2.856l0.358,6.906l7.978,6.548l-2.62,4.286l-3.69,1.668l-0.597,2.024l0.835,2.259h2.021l1.192,1.429l-7.738,2.617l-4.525-1.667l-2.382-1.424h-5.715l-10.24-4.642h-6.546l-5.121,1.428h-5.714l-8.931,4.879l-7.143-0.834l-7.145,2.5l-5.956-1.907l-3.689-3.211l-9.525-1.427l-6.191,4.28l-3.452-1.425l-2.858-2.263l-6.907-1.667l-1.07-1.189l-2.857-0.237l-9.782,5.945l-10.037-1.25l-0.822-0.359l1.113-8.623l-4.524-1.191l-9.406-6.902l-2.62-0.241l-2.023-4.525l1.427-4.643l-0.477-2.26l-3.451-2.266l-1.192-2.26l-7.143-4.049v-1.189l3.452-1.431l2.023,1.19l2.025-2.025l-0.598-6.785l0.598-5.716l-4.646-4.642l-3.095,0.833l-1.189-3.336l1.785-3.452l-0.952-3.214l3.038-2.749l1.248-1.182v-2.618l4.285-2.024l4.286-0.833l3.811-1.429l3.099,0.832l2.26-0.832l0.833,0.595l0.356,2.859l2.022,0.832l4.765-0.238c0,0,3.566-4.729,5.478-6.073c1.911-1.346,11.19,2.381,11.19,2.381l5.717-4.048l16.552-3.689l1.069-2.264l1.43-6.31l4.643-3.69h1.433v-1.906l0.236-15.836l0.833-3.212l-4.521-1.668l-0.24-1.191l4.762-1.428l12.384-1.073l1.905,2.501l4.287,0.952l1.192,0.239l1.665-2.262l-2.265-2.263l9.169-18.574l1.431-0.953l8.335,4.047h3.689l1.667,2.264l7.979-2.502l2.023-13.212l3.452-2.265l4.048-0.238l2.859-3.452l1.071-3.454l2.263-1.191L153.889,69.508z").attr(f)};h["陕西"]={name:"陕西",code:"610000",path:g.path("M363.393,259.519l-1.428-3.454l2.498-8.81l-3.689-16.903c0,0,3.262-5.777,2.619-4.286c-0.646,1.49,1.07-3.929,1.07-3.929l-3.334-6.905l3.096-4.884l0.594-4.525l1.67-3.452l-0.238-4.046l-1.432-1.074l-2.26,2.502l-6.072,0.356l-3.096,4.526l0.236,2.62l-0.593,1.665l-2.502,0.834l-9.406,13.454l-1.19-0.836l-2.617-0.594l-5.359,0.359l-1.789,2.499l-0.233,5.478l0.834,1.667l9.166,4.637l4.883,3.099l0.832,2.855l-2.619,3.691l1.431,4.286l-0.835,2.021l-6.784,0.6l-1.433,0.835l0.478,1.188v1.904l-5.355,0.596l-2.856-1.428h-3.691l-0.596,0.832l0.596,2.026l-1.789,2.022l-0.592,2.261l3.451,2.861l-2.5,5.117l1.071,2.619l-0.237,1.191h-4.052l-2.854,1.429l2.262,3.098l-1.43,4.048l2.383,0.478l0.238,2.617l2.021,0.237l7.386-1.427l1.43,0.593l0.354,2.025l3.099,0.835l6.547,3.216l3.69-1.434l8.097,2.857l1.666,2.26l4.051-0.829l-0.596-4.288l-0.834-1.191l0.834-3.451l4.286-2.021l1.068-1.668l-2.26-0.837l-2.5-0.593l-2.619-2.62l1.189-1.068h8.571h1.908l1.189,0.83l2.616-2.022v-3.454l-7.737-11.668L363.393,259.519L363.393,259.519z").attr(f)};h["河南"]={name:"河南",code:"410000",path:g.path("M371.131,276.068l9.405,8.336l7.742,1.665l7.144-1.072l2.262,1.072l2.5-1.43l1.783,1.787l0.834,2.856l3.455,1.905h4.524l3.451,2.857l3.098-1.428l2.382,1.428l1.903-3.929l2.855-1.43l0.598-3.216l-1.07-5.715l-0.596-0.479l-2.856,2.86l-4.287-3.453l-3.218-4.049l3.218-2.263l0.834-4.048l2.021-1.431l-0.354-5.359l1.43-1.188l2.619,1.787l1.664,2.26l3.455-2.26l1.19-1.434l-0.598-2.617l-4.049-2.263l-0.834-2.619l-7.142,0.835l-4.524-3.93l-2.021-0.596v-2.621l10-11.074l-3.69,0.834l-2.261,1.669l-0.957-1.429v-1.666l-1.663-0.6l-4.525,1.785l-11.43-1.428l-0.597,9.408c0,0-6.604,5.169-5.479,4.287c1.129-0.884-7.381,1.429-7.381,1.429l-10.359,7.142l-8.215,2.264v1.43l7.738,11.666L371.131,276.068L371.131,276.068z").attr(f)};h["山西"]={name:"山西",code:"140000",path:g.path("M363.393,259.519l8.217-2.265l10.357-7.142l7.381-1.431l5.477-4.287l0.599-9.405l-2.623-3.449l0.836-2.856l1.787-2.619l0.477-3.929l1.785-2.86l-2.859-5.713l-4.047-4.645l2.262-7.383l4.886-3.212l0.83-4.765l-1.904-4.286v-5.242l-3.215-2.854l-7.381,3.809l-1.191-1.189l-3.93,2.855l-3.213-0.235l-6.312,9.048h-1.906l-3.452,2.858l0.237,4.046l-1.67,3.452l-0.594,4.525l-3.096,4.884l3.334,6.905l-1.07,3.929l-2.619,4.286c0,0,4.146,18.996,3.689,16.903s-2.498,8.81-2.498,8.81L363.393,259.519z").attr(f)};h["山东"]={name:"山东",code:"370000",path:g.path("M425.661,252.611l0.597-2.856l2.5-1.069l4.645,3.927h1.433l4.284-0.476l2.5-2.022l3.453,2.856l1.429-2.62l0.356-1.43l2.857-1.667l0.834-3.45l2.854-0.595l7.98-13.454l-1.429-2.264l1.429-1.427l1.666,0.595l2.619-1.429l1.432-3.094l6.545-6.073l5.121-1.666l2.381-2.266l-0.592-4.88l-3.457-0.355l-7.738,0.952l-5.356-2.62l-3.216,0.596l-7.977,10.239l-2.262,1.429l-5.117-2.263l-0.359-2.619l-1.069-4.523l-2.859-1.669l-4.643,1.073l-2.882-1.971l-4.266,5.423l-4.523,1.188c0,0-8.514,7.798-6.313,5.718c2.201-2.081-6.902,12.5-6.902,12.5l1.783,3.45l-0.357,1.431v1.666l0.957,1.429l2.261-1.669l3.69-0.834l-10.002,11.074v2.621l2.023,0.596l4.524,3.93l7.146-0.835L425.661,252.611z").attr(f)};h["河北"]={name:"河北",code:"130000",path:g.path("M413.04,235.229l0.357-1.426l-1.783-3.453l6.902-12.5c0,0,8.725-7.9,6.313-5.718c-2.411,2.185,4.523-1.188,4.523-1.188l4.268-5.423l-1.647-1.125l-1.56-3.907l-3.319,1.286l-5.479-1.428l-0.237-1.428l-0.238-9.17l3.69-1.667l-0.419-1.563l-0.177-0.104l0.81-3.557l-5.094,2.128l0.832,1.905l0.178,1.424l0.18,1.433l-2.857,1.19l-1.785,1.667l-3.692-1.071l-4.881,0.834l-0.832-2.264l0.594-4.287l3.693-4.286l0.831-4.88l3.691-3.691l6.666,3.454h1.668l1.189,4.762l1.905,0.95l0.953,3.1l-0.356,2.024l4.047,2.854l0.594,2.264l3.338,1.428l8.332-4.523v-2.621l4.883-7.143l-3.45-4.881l-2.621-0.238l-4.763-3.218l1.668-5.118l-7.387-0.595l-3.213-4.765l0.357-2.619l-6.31-6.906l-4.051,2.026l-3.451,3.452l1.191,2.62l-0.834,1.667l-4.882,0.237l-2.264,2.022l-2.022-0.835l-2.021,2.026l-4.527,3.453l-2.024-1.43v-4.644l-1.666-0.832l-2.619,1.189l-3.096,6.547l-1.189,6.311l3.689,6.19l3.215,2.858v5.24l1.904,4.286l-0.834,4.764l-4.884,3.213l-2.26,7.382l4.049,4.645l2.857,5.717l-1.785,2.857l-0.477,3.928l-1.787,2.619l-0.834,2.859l2.621,3.446l11.43,1.431l4.524-1.787L413.04,235.229z").attr(f)};h["天津"]={name:"天津",code:"120000",path:g.path("M430.413,200.491c0,0-1.832,1.672-3.319,1.284c-1.49-0.388-5.479-1.428-5.479-1.428l-0.237-1.429l-0.238-9.169l3.69-1.667l-0.596-1.666l0.81-3.557l0.385-1.683l1.901,0.95l0.953,3.098l-0.356,2.022l4.047,2.858l0.594,2.263l-2.379,1.668l-0.834,3.809L430.413,200.491z").attr(f)};h["北京"]={name:"北京",code:"110000",path:g.path("M421.139,189.75l-0.357-2.856l-0.832-1.905l5.095-2.126l0.381-1.683l-1.189-4.767h-1.668l-6.666-3.449l-3.69,3.69c0,0-1.125,6.585-0.832,4.88c0.289-1.704-3.693,4.288-3.693,4.288l-0.594,4.286l0.832,2.263l4.881-0.834l3.693,1.071l1.784-1.667L421.139,189.75z").attr(f)};h["宁夏"]={name:"宁夏",code:"640000",path:g.path("M329.934,230.111l0.24-5.476l1.785-2.499l-0.832-2.62l-9.168-3.454l0.594-3.691l2.858-4.049l-1.786-6.19l-0.835-0.952l-5.954,4.049l-2.855,9.168l-0.953,6.31l-4.762,3.93l-2.859,1.189l-3.438,0.779c0,0,9.184,11.236,7.729,9.458c-1.455-1.78,1.664,7.146,1.664,7.146l-0.834,3.449l5.357,2.859v2.262l4.881,1.19h1.43v-4.048l3.691-0.597l0.951-4.763l-2.619-2.026l-2.023-2.021l0.832-9.163l2.023-1.073l3.453,1.43L329.934,230.111z").attr(f)};h["内蒙古"]={name:"内蒙古",code:"150000",path:g.path("M301.969,226.604l3.438-0.779l2.859-1.188l4.762-3.932l0.953-6.31l2.855-9.168l5.954-4.048l0.835,0.951l1.786,6.19l-2.858,4.049l-0.594,3.691l9.168,3.453l0.832,2.621l5.358-0.359l2.617,0.596l1.191,0.834l9.405-13.454l2.502-0.835l0.593-1.664l-0.236-2.623l3.096-4.523l6.072-0.358l2.262-2.5l1.431,1.074l3.452-2.86h1.904l6.312-9.046l3.215,0.235l3.93-2.855l1.191,1.189l7.381-3.809l-3.689-6.193l1.189-6.311l3.096-6.549l2.619-1.188l1.666,0.832v4.644l2.025,1.43l4.526-3.453l2.021-2.026l2.022,0.835l2.265-2.025l4.881-0.234l0.834-1.667l-1.191-2.622l3.453-3.452l4.049-2.024l6.31,6.908l-0.355,2.618l3.213,4.763l7.385,0.595l1.666-3.453l-1.903-10.002l1.666-1.667l3.453,2.262l3.096,4.644l4.881-7.5l2.264-0.596l3.689-3.692h1.787l3.094-3.095h1.787l1.666-2.856h4.527l4.047-4.051l2.021-2.021v-2.264l-3.213-1.667v-4.286l-5.953-7.502l-5.717,5.478l-1.666-1.19l-0.357-3.096l-2.264-3.453l-0.594-3.931v-4.046l-3.928-2.858l-0.601-1.667l1.074-2.382l7.502,2.022l0.238-3.452l2.621-3.099l-1.789-1.666l0.358-3.214l3.689-1.667l0.834-1.19l-0.598-1.07l-3.927,1.07l-7.145-4.882l-0.357-1.43l3.453-4.524l7.146-10.597l0.594-1.072h1.193l2.26,2.858l0.596,0.479l0.238-13.336l2.26-1.191v-5.121l-0.594-8.333l2.858-11.668l-8.575-6.312l-6.548,5.478l-3.45,0.476l-1.668,1.786l-5.718-0.832l-2.854-3.215l-1.664-5.122l0.236-2.021l-4.525-2.858l-2.621,4.289l-4.881-3.096l-0.834-0.835l2.856-7.5L433.4,7.223h-2.024l-5.119,3.688l-4.285,6.311l1.668,1.071l3.211,0.359l2.504,6.548l-1.43,2.618l-2.502,3.689l-4.644,17.147l1.785,2.856l-1.428,2.498l-10.599,7.742l-5.713-1.071l-3.215-1.191l-0.479,1.667l-4.642,18.577l-2.264,2.378l1.191,3.335l2.854,2.382l4.764-2.623l7.74,0.598l2.26-3.692l4.052-0.951l7.737,2.856l9.408,9.765v2.023l-2.024,1.429l-10.836,0.599l-3.691,2.854l-2.857-0.355l-2.022,3.214l-5.121,1.07l-3.457,5.12l-0.592,3.81l-7.379,4.763l-4.646,0.598l-5.119,6.904l-4.883,2.859l-9.408-2.025l-3.092-1.431l-3.692,3.694l-1.785,6.548l5.119,7.501l-3.335,3.451l-4.643,2.859c0,0-8.422,10.638-6.787,8.571c1.637-2.064-6.619,3.36-8.93,3.93c-2.31,0.568-14.525,1.429-14.525,1.429l-2.264-0.237l-16.906,7.144l-7.742,4.881l-2.262-1.19l-0.83-2.262l-10.36-0.597l-11.909-3.688l-3.211-3.69l-17.385-2.025l-3.217,1.43l-21.072-2.022l-0.358,3.095l1.43,4.883l-0.834,7.976l6.073,8.929l3.096,2.026l4.883-3.812h10.237l2.623,0.953l1.426,2.262l-1.19,2.5l-5.714,4.646l0.597,2.261l6.549,4.88h2.618l0.834,1.072l-0.596,2.023l4.05,3.217l9.403,1.429l4.527-1.19l5.716-5.719l6.903,0.598l2.857,4.289l-1.664,3.926l0.473,2.382l-3.688,2.263l-1.668,2.024l0.596,4.76l6.545,4.647L301.969,226.604z").attr(f)};h["辽宁"]={name:"辽宁",code:"210000",path:g.path("M491.15,173.2l6.783-10.002l4.287-4.881l-0.595-4.763l-4.524-5.239l-0.594-4.286l-8.216-11.075l-0.358,1.074l-1.666,1.786l-3.453-4.05l-4.883-1.429l-0.236,1.429v2.264l-2.022,2.022l-4.047,4.05H467.1l-1.666,2.856h-1.789l-3.094,3.096h-1.787l-3.691,3.691l-2.262,0.596l-4.881,7.5l-3.096-4.644l-3.453-2.262l-1.666,1.667l1.903,10.002l-1.666,3.453l-1.668,5.12l4.763,3.215l2.621,0.238l3.45,4.881l2.5-1.429c0,0,2.857-2.881,4.05-4.882c1.192-2.002,4.049-6.788,4.049-6.788l6.787-1.429l4.287,4.286l-3.099,6.787l-4.049,6.311l3.688,2.62l-0.233,3.098l-2.857,2.855l0.597,1.19l4.881-2.619l7.143-9.407l10.836-6.072L491.15,173.2z").attr(f)};h["吉林"]={name:"吉林",code:"220000",path:g.path("M544.896,113.042l-2.07-0.088h-2.858l-4.285-1.431l-1.43-2.619l-1.431,2.024l-2.022-1.428l-4.523,5.12l-0.834,1.427l-2.022,0.357l-2.859-3.214l-2.621-1.072l-2.854-5.715l-2.027,1.431l0.594,5.12l-1.426,0.833l-3.689-4.05l-1.432-1.903h-2.854l-1.666-4.288l-3.813-2.023l-5.354,2.023l-2.025-0.357l-3.098-3.094l-4.285,2.5h-2.383l-2.857,1.191l-4.285-3.096l-2.854-5.24l-6.787,1.189l-2.621,3.099l-0.238,3.45l-7.502-2.023l-1.074,2.381l0.601,1.667l3.928,2.859v4.046l0.594,3.929l2.265,3.456l0.356,3.095l1.666,1.191l5.717-5.479l5.953,7.502v4.288l3.213,1.667l0.238-1.431l4.885,1.431l3.451,4.046l1.666-1.784l0.357-1.074l8.217,11.075l0.594,4.286l4.527,5.239l0.592,4.761l4.051-2.499l3.689-10.598l1.67-0.595l4.047,2.263l6.549-0.834l2.26-2.024l-3.092-4.763l0.832-1.191c0,0,7.84-2.611,6.072-2.022c-1.766,0.588,2.5-4.883,2.5-4.883l3.215-1.428l0.238-4.766l0.832-3.212l1.785-0.596l1.668,1.789l1.668,1.426l4.287-5.715l1.188-4.288L544.896,113.042z").attr(f)};h["黑龙江"]={name:"黑龙江",code:"230000",path:g.path("M464.838,96.639l6.787-1.19l2.854,5.241l4.285,3.095l2.856-1.188h2.386l4.285-2.501l3.094,3.094l2.024,0.357l5.357-2.023l3.813,2.023l1.666,4.288h2.857l1.43,1.904l3.689,4.049l1.426-0.833l-0.594-5.12l2.026-1.432l2.854,5.716l2.621,1.074l2.858,3.212l2.021-0.357l0.836-1.427l4.523-5.12l2.022,1.428l1.43-2.022l1.431,2.619l4.283,1.429h2.86l2.07,0.088l-1.238-2.113l-0.598-6.906l-5.115-7.978l2.855-2.857l2.616-4.883h9.646l1.785-1.665l-0.597-3.69l2.025-3.691l-0.596-2.024l0.832-3.451l-0.236-17.742l2.855-5.715l-3.214-3.692l0.595-2.261l-1.427-2.024l-3.69,1.429l-4.289,4.884l-4.283,2.023l-4.289,5.951l-10.598,3.692l-4.879-3.692l0.594-2.262l-2.5-3.689l-1.191-3.811l-4.047-0.239l-7.145-3.69l-2.859,1.071l-3.33-1.667l-4.887,0.834l-4.283-1.429l-2.621-3.69l-2.498-2.857l-0.951-2.857l-3.334-3.452l-2.026-3.099l-4.644-6.31l-1.428-3.69l-5.119-6.548l-1.432-3.454l-6.549-3.216l-4.287,1.429l-3.689-0.833l-8.336-1.668l-11.07,3.932l-2.024,1.786l2.262,3.096l-2.856,7.499l0.834,0.835l4.881,3.096l2.621-4.286l4.524,2.856l-0.235,2.022l1.664,5.119l2.854,3.218l5.717,0.833l1.668-1.787l3.451-0.477l6.547-5.476l8.576,6.31l-2.858,11.669l0.594,8.333v5.119l-2.26,1.191l-0.238,13.335l-0.597-0.476l-2.26-2.858h-1.192l-0.595,1.073c0,0-8.797,13.044-7.146,10.596c1.652-2.448-3.451,4.523-3.451,4.523l0.357,1.428l7.145,4.886l3.926-1.071l0.599,1.071l-0.834,1.189l-3.689,1.667l-0.359,3.214L464.838,96.639z").attr(f)};h["重庆"]={name:"重庆",code:"500000",path:g.path("M318.986,317.871l5.58-2.092l4.564,2.092l1.014-5.811l5.346-3.72l1.351-7.671l3.932-1.059v-7.47l3.689-1.432l8.096,2.857l1.666,2.26l4.051-0.829l2.5,0.238l2.619,3.452l1.07,6.548l-0.832,2.262l-1.666-0.594c0,0-3.072,3.501-4.884,3.812c-1.809,0.311-8.336,1.429-8.336,1.429l-2.26,2.263l1.783,2.262l0.24,4.883l2.262,0.597l5.715,7.142l0.357,9.407l-3.218,2.412l-0.592,0.445l-3.334-3.451l-3.215-4.29l-0.24-2.619l-2.26-0.476l-2.621,0.834l-4.287-2.025l-2.022,4.883l-3.691,0.239l-2.619,4.049l-1.666-0.834l-2.28-6.977l-6.507-4.07L318.986,317.871z").attr(f)};h["四川"]={name:"四川",code:"510000",path:g.path("M279.33,280.95l1.788-4.05l-2.025-2.261l-0.357-3.454l7.145-3.096h1.787l1.069,2.619l0.357,3.336l3.455,2.384l4.522,4.521l2.621-1.669l1.664,1.669l0.6,4.525l2.855,2.021l7.383,0.599l1.189-1.431l-0.357-2.023l4.287-1.07l2.381,0.478l0.238,2.617l2.024,0.237l7.382-1.427l1.43,0.593l0.354,2.026l3.099,0.834l6.549,3.214v7.47l-3.932,1.059l-1.351,7.671l-5.346,3.72l-1.014,5.811l-4.564-2.092l-5.58,2.092l-0.231,4.416l-0.464,4.53l6.507,4.07l2.28,6.977l-2.623,0.833l-3.928-2.263l-3.213,3.691v1.666l6.311,3.452l1.427,2.62l-4.523,1.666l-6.904-0.238l-0.831-2.855l-2.621-0.954l-4.285,2.623l-2.859-1.429l-0.238-3.694l-1.43-1.786v-1.903l-4.047-0.952l-1.072,1.188l0.599,2.858l-3.215,1.431l-0.836,2.021l0.836,2.504l-7.146,8.334l1.191,9.764l-3.453,2.855l-1.666-1.784l-6.906,4.049l-2.621-1.431l-10.001-19.17l-3.931-2.854l-3.216-0.835l-1.428-2.623l1.787-2.854l-2.857-2.264l-3.455,2.858l-3.45,0.595l-2.264-10.359l-0.597-2.499c0,0-2.04-22.568-0.594-16.55c1.446,6.017-3.099-8.336-3.099-8.336l2.267-1.665l-6.55-12.027l-7.977-6.311l1.069-3.692l0.953-1.188l11.669-1.666l7.738,2.262l4.523-1.431l1.785,2.859l5.717,5.715l4.524-0.833v-3.453l1.191-2.266l4.522-1.783l1.667,2.856l2.621-1.903l3.689,0.478v-0.241H279.33z").attr(f)};return h}var e=function(k,g){var i=this;i.wrapperId="map-"+Date.now().toString().slice(-4)+Math.round(Math.random()*1000);k.html("");k.append('<div id="'+i.wrapperId+'" style="margin:0 auto;position:relative;width:'+g.width+"px;height:"+g.height+'px;"><img style="position:absolute;left:0;bottom:0;width:16%;" src="'+a.cfg.nowjs+'img/south_islands.jpg" /></div>');Raphael.getColor.reset();var h;var f;i.R=Raphael(i.wrapperId,g.width,g.height);i.current=null;i.china=h=c(i.R);for(var j in h){if(!h.hasOwnProperty(j)){return}f=h[j];f.path.color=Raphael.getColor(1);f.path.transform("t30,0");if(g.defaultColor){h[j]["path"].animate({fill:h[j]["path"].color,stroke:"#eee"},500)}(function(n,l){var o=l.path;var m=l.name;var q=o.getBBox().x+(o.getBBox().width/2);var r=o.getBBox().y+(o.getBBox().height/2);switch(m){case"江苏":q+=5;r-=10;break;case"河北":q-=10;r+=20;break;case"天津":q+=20;r+=10;break;case"上海":q+=20;break;case"广东":r-=10;break;case"澳门":r+=10;break;case"香港":q+=20;r+=5;break;case"甘肃":q-=40;r-=30;break;case"陕西":q+=5;r+=20;break;case"内蒙古":q-=15;r+=65;break;default:break}var p=l.text=i.R.text(q,r,m).attr({fill:"#000","font-size":"13px",cursor:"pointer"});p[0].onclick=o[0].onclick=function(){if(i.current!=n){i.current&&h[i.current]["path"].animate({transform:"t30,0",fill:h[i.current]["isClick"]?h[i.current]["path"].color:"#b0d0ec",stroke:"#ddd"},2000,"elastic")}i.current=n;o.animate({transform:"t30,0 s1.03 1.03",fill:o.color,stroke:"#000"},1200,"elastic");o.toFront();p.toFront();k.trigger("selectProvince",l.code)}})(j,f)}};d.fn.chinaMap=function(g){var f=Array.prototype.slice.call(arguments,1);return this.each(function(){var j=d(this);var i=j.data("ChinaMap");var h=(typeof g=="string");if(typeof i==="undefined"){g=d.extend({},d.fn.chinaMap.defaults,typeof g=="object"&&g);j.data("ChinaMap",i=new e(j,g))}else{if(!h){i.options=d.extend(i.options,g)}}if(h){i[g].apply(i,f)}})};d.fn.chinaMap.defaults={width:650,height:500,defaultColor:false}}(jQuery);!function(c){var d=function(f,e){this.options=e;this.$element=c(f);this._init()};d.prototype={constructor:d,_init:function(){var e=this,f=e.$element,g=this.options;f.click(function(){var h=g.paraFun(),i=[];if(h===false){return}a.cmd(g.cmdTtl,h,function(j){var k=parseInt(j.ttl);var l=j.file_name===undefined?"":j.file_name;delete h._c;if(k<=0){c.alertMsg("提示","没有可导出的数据");return false}c.alertMsg("提示","正在生成数据：0%",true);e._export(h,k,function(q,n){var m=parseInt(q.start)+parseInt(q.size);var o=(Number(m/k)*100).toFixed(2);o=o>100?100:o;c("#_nui_alertmsg").find("span").html("正在生成数据："+o+"%");var p=n.path;q.path=p;if(c.isArray(p)){i=c.unique(c.merge(i,p))}else{if(c.inArray(p,i)===-1){i.push(p)}}if(k<=m){setTimeout(function(){c("#_nui_alertmsg").find(".close").trigger("click");var r=g.downFun(i,l);window.location.href=r;g.cbFun()},1000)}})})})},_export:function(e,j,f){var g=this,l=g.options,k=l.cmd,h=l.size;if(!k){return false}if(!j){return false}if(!e){e={}}var i=function(m){a.cmd(k,e,function(n){e.start=parseInt(e.start);e.size=parseInt(e.size);if(c.isFunction(m)){m(e,n)}var o=e.start;o+=e.size;if(o<j){e.start=o;i(m)}})};e.start=0;e.size=h;i(f)}};c.fn.exportData=function(g,f,e){return this.each(function(){var k=c(this),j=(typeof g=="string"),i=k.data("exportData");if(j){if(c.isFunction(f)){f(i[g]({}))}else{if(c.isFunction(e)){e(i[g](f))}else{i[g](f)}}}else{if(!i){var h=c.extend({},c.fn.exportData.defaults,typeof g=="object"&&g);k.data("exportData",(i=new d(this,h)))}else{i.options=c.extend({},i.options,g);i._init()}}})};c.fn.exportData.defaults={cmd:"",cmdTtl:"",paraFun:function(){return{}},downFun:function(e){return""},cbFun:function(){return""},size:1000}}(jQuery)});